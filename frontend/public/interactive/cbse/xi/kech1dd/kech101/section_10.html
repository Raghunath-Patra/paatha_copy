<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stoichiometry & Solutions - Interactive Learning</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            position: relative;
            overflow-x: hidden;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            font-size: 20px;
            opacity: 0.6;
            animation: floatUp 8s linear infinite;
            pointer-events: none;
        }

        @keyframes floatUp {
            0% { 
                transform: translateY(100vh) rotate(0deg); 
                opacity: 0; 
            }
            10% { 
                opacity: 0.6; 
            }
            90% { 
                opacity: 0.6; 
            }
            100% { 
                transform: translateY(-50px) rotate(360deg); 
                opacity: 0; 
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            animation: headerGlow 3s ease-in-out infinite;
        }

        @keyframes headerGlow {
            0%, 100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
            50% { text-shadow: 0 0 20px rgba(255,255,255,0.8), 2px 2px 4px rgba(0,0,0,0.5); }
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn:hover, .tab-btn.active {
            background: rgba(255,255,255,0.9);
            color: #333;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .content-section {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .law-title {
            color: #2c3e50;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-size: 1.8rem;
            position: relative;
        }

        .law-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
            animation: titleExpand 2s ease-in-out infinite;
        }

        @keyframes titleExpand {
            0%, 100% { width: 0; }
            50% { width: 100%; }
        }

        .concept-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            border-radius: 15px;
            color: white;
            margin: 20px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .concept-info::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.1) 10px,
                rgba(255,255,255,0.1) 20px
            );
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%); }
            100% { transform: translateX(100%) translateY(100%); }
        }

        .interactive-demo {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f4fd 100%);
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .interactive-demo::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.2), transparent);
            animation: sweep 3s infinite;
        }

        @keyframes sweep {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .equation-display {
            background: white;
            border: 3px solid #667eea;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .equation-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.2), transparent);
            animation: equationGlow 3s infinite;
        }

        @keyframes equationGlow {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .molecule-3d {
            position: relative;
            margin: 10px;
            perspective: 1000px;
            display: inline-block;
        }

        .molecule-structure {
            display: flex;
            align-items: center;
            justify-content: center;
            transform-style: preserve-3d;
            animation: moleculeRotate 8s linear infinite;
        }

        @keyframes moleculeRotate {
            0% { transform: rotateY(0deg) rotateX(0deg); }
            25% { transform: rotateY(90deg) rotateX(15deg); }
            50% { transform: rotateY(180deg) rotateX(0deg); }
            75% { transform: rotateY(270deg) rotateX(-15deg); }
            100% { transform: rotateY(360deg) rotateX(0deg); }
        }

        .atom-3d {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 0 3px;
            position: relative;
            animation: atomFloat 2s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            font-size: 14px;
        }

        @keyframes atomFloat {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-5px) scale(1.05); }
        }

        .atom-3d::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 50%;
            background: radial-gradient(circle, transparent 60%, rgba(255,255,255,0.2) 100%);
            animation: atomGlow 2s ease-in-out infinite alternate;
        }

        @keyframes atomGlow {
            0% { opacity: 0.3; transform: scale(1); }
            100% { opacity: 0.8; transform: scale(1.1); }
        }

        .bond-3d {
            width: 25px;
            height: 4px;
            background: linear-gradient(90deg, #333, #666, #333);
            border-radius: 2px;
            position: relative;
            animation: bondPulse 1.5s ease-in-out infinite;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        @keyframes bondPulse {
            0%, 100% { transform: scaleX(1) scaleY(1); }
            50% { transform: scaleX(1.1) scaleY(1.2); }
        }

        .hydrogen-3d { 
            background: radial-gradient(circle, #ff6b6b 0%, #e74c3c 100%);
            box-shadow: 0 0 15px rgba(231, 76, 60, 0.6);
        }
        .oxygen-3d { 
            background: radial-gradient(circle, #4ecdc4 0%, #16a085 100%);
            box-shadow: 0 0 15px rgba(22, 160, 133, 0.6);
        }
        .carbon-3d { 
            background: radial-gradient(circle, #45b7d1 0%, #2980b9 100%);
            box-shadow: 0 0 15px rgba(41, 128, 185, 0.6);
        }
        .nitrogen-3d { 
            background: radial-gradient(circle, #9b59b6 0%, #8e44ad 100%);
            box-shadow: 0 0 15px rgba(142, 68, 173, 0.6);
        }

        .coefficient {
            font-size: 24px;
            color: #e74c3c;
            font-weight: bold;
            margin: 0 5px;
            animation: coefficientPulse 2s ease-in-out infinite;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        @keyframes coefficientPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .reaction-arrow {
            font-size: 2rem;
            color: #667eea;
            margin: 0 10px;
            animation: arrowFlow 2s ease-in-out infinite;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
            position: relative;
        }

        @keyframes arrowFlow {
            0%, 100% { transform: scale(1) translateX(0); }
            50% { transform: scale(1.1) translateX(3px); }
        }

        .stoichiometry-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stoich-card {
            background: linear-gradient(135deg, white 0%, #f8f9ff 100%);
            border: 2px solid #3498db;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stoich-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(52, 152, 219, 0.3);
        }

        .stoich-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(52, 152, 219, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .stoich-card:hover::before {
            left: 100%;
        }

        .result-display {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border: 2px solid #17a2b8;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            font-size: 16px;
            font-weight: bold;
            color: #0c5460;
            position: relative;
            overflow: hidden;
        }

        .result-display::before {
            content: '✓';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            color: #28a745;
            animation: checkMark 2s ease-in-out infinite;
        }

        @keyframes checkMark {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .calculator-section {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
            border: 2px solid #28a745;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            position: relative;
        }

        .input-group {
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .input-group label {
            font-weight: bold;
            min-width: 150px;
            color: #2c3e50;
        }

        .input-group input, .input-group select {
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            min-width: 200px;
            background: linear-gradient(135deg, white 0%, #f8f9ff 100%);
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.3);
            transform: scale(1.02);
        }

        .calculate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin: 15px 5px;
            transition: all 0.3s ease;
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }

        .calculate-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .calculate-btn:hover::before {
            left: 100%;
        }

        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .step-number {
            display: inline-block;
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: bold;
            margin-right: 15px;
            vertical-align: middle;
        }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2rem; }
            .nav-tabs { flex-direction: column; align-items: center; }
            .stoichiometry-grid { grid-template-columns: 1fr; }
            .input-group { flex-direction: column; align-items: stretch; }
            .input-group label { min-width: auto; }
            .molecule-3d { margin: 5px; }
            .equation-display { flex-direction: column; gap: 5px; }
        }
    </style>
</head>
<body>
    <div class="floating-particles" id="floating-particles"></div>
    
    <div class="container">
        <div class="header">
            <h1>⚗️ Stoichiometry & Solutions</h1>
            <p>Interactive Learning Tool for Class 11 Chemistry</p>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('stoichiometry')">Stoichiometry Basics</button>
            <button class="tab-btn" onclick="showTab('solutions')">Solution Concentrations</button>
            <button class="tab-btn" onclick="showTab('problems')">Worked Problems</button>
            <button class="tab-btn" onclick="showTab('calculator')">Interactive Calculator</button>
        </div>

        <!-- Stoichiometry Basics -->
        <div id="stoichiometry" class="content-section active">
            <h2 class="law-title">1. Stoichiometry Basics</h2>
            
            <div class="concept-info">
                <h3>🧮 Stoichiometry</h3>
                <p>From Greek: stoicheion (element) + metron (measure)</p>
                <p>Calculation of masses and volumes in chemical reactions</p>
            </div>

            <p><strong>Stoichiometry:</strong> The quantitative study of reactants and products in a chemical reaction based on balanced chemical equations.</p>

            <div class="interactive-demo">
                <h3>Methane Combustion with 3D Molecular Visualization</h3>
                
                <div class="equation-display">
                    <div class="molecule-3d">
                        <div class="molecule-structure">
                            <div class="atom-3d carbon-3d">C</div>
                            <div class="bond-3d"></div>
                            <div class="atom-3d hydrogen-3d">H₄</div>
                        </div>
                    </div>
                    <span class="reaction-arrow">+</span>
                    <span class="coefficient">2</span>
                    <div class="molecule-3d">
                        <div class="molecule-structure">
                            <div class="atom-3d oxygen-3d">O₂</div>
                        </div>
                    </div>
                    <span class="reaction-arrow">→</span>
                    <div class="molecule-3d">
                        <div class="molecule-structure">
                            <div class="atom-3d carbon-3d">C</div>
                            <div class="bond-3d"></div>
                            <div class="atom-3d oxygen-3d">O₂</div>
                        </div>
                    </div>
                    <span>+</span>
                    <span class="coefficient">2</span>
                    <div class="molecule-3d">
                        <div class="molecule-structure">
                            <div class="atom-3d hydrogen-3d">H₂</div>
                            <div class="bond-3d"></div>
                            <div class="atom-3d oxygen-3d">O</div>
                        </div>
                    </div>
                </div>

                <div class="stoichiometry-grid">
                    <div class="stoich-card">
                        <h4 style="color: #3498db;">🧪 Mole Relationship</h4>
                        <p><strong>1 mole</strong> CH₄ reacts with <strong>2 moles</strong> O₂</p>
                        <p>to produce <strong>1 mole</strong> CO₂ and <strong>2 moles</strong> H₂O</p>
                        <div style="margin-top: 10px; font-size: 1.5rem;">1:2→1:2</div>
                    </div>

                    <div class="stoich-card">
                        <h4 style="color: #3498db;">⚛️ Molecule Relationship</h4>
                        <p><strong>1 molecule</strong> CH₄ reacts with <strong>2 molecules</strong> O₂</p>
                        <p>to produce <strong>1 molecule</strong> CO₂ and <strong>2 molecules</strong> H₂O</p>
                        <div style="margin-top: 10px; font-size: 1.5rem;">⚛️→⚛️⚛️</div>
                    </div>

                    <div class="stoich-card">
                        <h4 style="color: #3498db;">⚖️ Mass Relationship</h4>
                        <p><strong>16 g</strong> CH₄ reacts with <strong>64 g</strong> O₂</p>
                        <p>to produce <strong>44 g</strong> CO₂ and <strong>36 g</strong> H₂O</p>
                        <div style="margin-top: 10px; font-size: 1.2rem;">Total: 80g → 80g ✓</div>
                    </div>

                    <div class="stoich-card">
                        <h4 style="color: #3498db;">🌡️ Volume Relationship (STP)</h4>
                        <p><strong>22.4 L</strong> CH₄ reacts with <strong>44.8 L</strong> O₂</p>
                        <p>to produce <strong>22.4 L</strong> CO₂ and <strong>44.8 L</strong> H₂O</p>
                        <div style="margin-top: 10px; font-size: 1.2rem;">🌡️ Same T & P</div>
                    </div>
                </div>

                <div class="result-display">
                    <strong>🔑 Key Insight:</strong> Stoichiometric coefficients give us the mole ratios for mass, molecule, and volume conversions!<br>
                    <strong>🧮 Conservation:</strong> Mass is always conserved - total mass of reactants = total mass of products
                </div>
            </div>
        </div>

        <!-- Solution Concentrations -->
        <div id="solutions" class="content-section">
            <h2 class="law-title">2. Solution Concentrations</h2>
            
            <div class="concept-info">
                <h3>🧪 Concentration Units</h3>
                <p>Different ways to express the amount of solute in a solution</p>
                <p>Each unit has specific applications and advantages</p>
            </div>

            <p><strong>Solution Concentration:</strong> The amount of solute present in a given volume or mass of solution, expressed in various units.</p>

            <div class="interactive-demo">
                <h3>Main Concentration Units with Examples</h3>
                
                <div class="stoichiometry-grid">
                    <div class="stoich-card">
                        <div style="color: #9b59b6; font-weight: bold; margin-bottom: 15px;">📊 Mass Percent (w/w %)</div>
                        <div style="font-size: 2rem; margin: 10px 0;">🧂</div>
                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 10px; padding: 12px; margin: 10px 0; font-family: 'Courier New', monospace; font-weight: bold;">
                            Mass % = (Mass of solute / Mass of solution) × 100
                        </div>
                        <p><strong>Example:</strong> 2g salt in 18g water</p>
                        <p><strong>Calculation:</strong> (2/20) × 100 = 10%</p>
                        <p style="color: #9b59b6;">💡 Best for: Solid solutions</p>
                    </div>

                    <div class="stoich-card">
                        <div style="color: #9b59b6; font-weight: bold; margin-bottom: 15px;">🧪 Molarity (M)</div>
                        <div style="font-size: 2rem; margin: 10px 0;">🌡️</div>
                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 10px; padding: 12px; margin: 10px 0; font-family: 'Courier New', monospace; font-weight: bold;">
                            M = moles of solute / L of solution
                        </div>
                        <p><strong>Example:</strong> 4g NaOH in 250 mL</p>
                        <p><strong>Result:</strong> 0.1 mol / 0.25 L = 0.4 M</p>
                        <p style="color: #e74c3c;">⚠️ Temperature dependent</p>
                        <p style="color: #9b59b6;">💡 Best for: Laboratory work</p>
                    </div>

                    <div class="stoich-card">
                        <div style="color: #9b59b6; font-weight: bold; margin-bottom: 15px;">⚖️ Molality (m)</div>
                        <div style="font-size: 2rem; margin: 10px 0;">❄️</div>
                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 10px; padding: 12px; margin: 10px 0; font-family: 'Courier New', monospace; font-weight: bold;">
                            m = moles of solute / kg of solvent
                        </div>
                        <p><strong>Example:</strong> Based on solvent mass only</p>
                        <p><strong>Advantage:</strong> Uses mass, not volume</p>
                        <p style="color: #27ae60;">✅ Temperature independent</p>
                        <p style="color: #9b59b6;">💡 Best for: Colligative properties</p>
                    </div>

                    <div class="stoich-card">
                        <div style="color: #9b59b6; font-weight: bold; margin-bottom: 15px;">🔢 Mole Fraction (χ)</div>
                        <div style="font-size: 2rem; margin: 10px 0;">⚛️</div>
                        <div style="background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 10px; padding: 12px; margin: 10px 0; font-family: 'Courier New', monospace; font-weight: bold;">
                            χ_A = n_A / (n_A + n_B)
                        </div>
                        <p><strong>Example:</strong> For component A in solution</p>
                        <p><strong>Property:</strong> Sum of all χ = 1</p>
                        <p style="color: #9b59b6;">💡 Best for: Ideal solutions</p>
                    </div>
                </div>

                <div class="result-display">
                    <strong>📏 Dilution Formula:</strong> M₁V₁ = M₂V₂<br>
                    <strong>🔑 Key Point:</strong> Number of moles remains constant during dilution!<br>
                    <strong>🌡️ Temperature Effect:</strong> Molarity changes with temperature, molality doesn't<br>
                    <strong>🎯 Application:</strong> Choose the right unit for your specific needs
                </div>
            </div>
        </div>

        <!-- Worked Problems -->
        <div id="problems" class="content-section">
            <h2 class="law-title">3. Worked Problems</h2>
            
            <div class="interactive-demo">
                <h3>Problem 1: Water from Methane Combustion 💧</h3>
                <div class="equation-display">
                    <div style="font-size: 1.2rem;">CH₄ + 2O₂ → CO₂ + 2H₂O</div>
                </div>
                
                <div style="background: #f8f9fa; border-left: 5px solid #28a745; padding: 20px; margin: 20px 0; border-radius: 10px;">
                    <p><strong>🎯 Question:</strong> Calculate water produced from 16g methane combustion.</p>
                    <p><span class="step-number">1</span>Convert mass to moles: 16g CH₄ ÷ 16g/mol = 1 mole CH₄</p>
                    <p><span class="step-number">2</span>Apply stoichiometry: 1 mol CH₄ → 2 mol H₂O (from balanced equation)</p>
                    <p><span class="step-number">3</span>Convert moles to mass: 2 mol H₂O × 18g/mol = 36g H₂O</p>
                    <p><strong>✅ Answer:</strong> 36g water is produced</p>
                    <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 8px;">
                        <strong>🧮 Check:</strong> Mass conservation → 16g + 64g = 44g + 36g = 80g ✓
                    </div>
                </div>
            </div>

            <div class="interactive-demo">
                <h3>Problem 2: Molarity Calculation 🧪</h3>
                
                <div style="background: #f8f9fa; border-left: 5px solid #28a745; padding: 20px; margin: 20px 0; border-radius: 10px;">
                    <p><strong>🎯 Question:</strong> Calculate molarity of 4g NaOH in 250 mL solution.</p>
                    <p><span class="step-number">1</span>Calculate moles: 4g NaOH ÷ 40g/mol = 0.1 mol NaOH</p>
                    <p><span class="step-number">2</span>Convert volume: 250 mL ÷ 1000 = 0.25 L</p>
                    <p><span class="step-number">3</span>Apply molarity formula: M = 0.1 mol ÷ 0.25 L = 0.4 M</p>
                    <p><strong>✅ Answer:</strong> 0.4 M NaOH solution</p>
                    <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 8px;">
                        <strong>🌡️ Remember:</strong> Molarity changes with temperature due to volume expansion
                    </div>
                </div>
            </div>

            <div class="interactive-demo">
                <h3>Problem 3: Dilution Problem 💧</h3>
                
                <div style="background: #f8f9fa; border-left: 5px solid #28a745; padding: 20px; margin: 20px 0; border-radius: 10px;">
                    <p><strong>🎯 Question:</strong> What volume of water must be added to 100 mL of 2M HCl to make 0.5M solution?</p>
                    <p><span class="step-number">1</span>Given: M₁ = 2M, V₁ = 100 mL, M₂ = 0.5M</p>
                    <p><span class="step-number">2</span>Use dilution formula: M₁V₁ = M₂V₂</p>
                    <p><span class="step-number">3</span>Calculate: V₂ = (2 × 100) ÷ 0.5 = 400 mL</p>
                    <p><span class="step-number">4</span>Water to add: 400 - 100 = 300 mL</p>
                    <p><strong>✅ Answer:</strong> Add 300 mL of water</p>
                </div>
            </div>
        </div>

        <!-- Calculator -->
        <div id="calculator" class="content-section">
            <h2 class="law-title">4. Interactive Calculator</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px;">
                
                <!-- Stoichiometry Calculator -->
                <div class="calculator-section">
                    <h3>⚗️ Stoichiometry Calculator</h3>
                    
                    <div class="input-group">
                        <label>🔬 Reaction:</label>
                        <select id="reaction-select">
                            <option value="ch4">CH₄ + 2O₂ → CO₂ + 2H₂O (Methane combustion)</option>
                            <option value="h2o2">2H₂ + O₂ → 2H₂O (Hydrogen combustion)</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label>📥 Given substance:</label>
                        <select id="given-substance">
                            <option value="CH4">CH₄ (Methane)</option>
                            <option value="O2">O₂ (Oxygen)</option>
                            <option value="CO2">CO₂ (Carbon dioxide)</option>
                            <option value="H2O">H₂O (Water)</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label>⚖️ Amount (g):</label>
                        <input type="number" id="given-amount" step="0.01" placeholder="Enter mass in grams">
                    </div>
                    
                    <div class="input-group">
                        <label>📤 Find amount of:</label>
                        <select id="find-substance">
                            <option value="O2">O₂ (Oxygen)</option>
                            <option value="CH4">CH₄ (Methane)</option>
                            <option value="CO2">CO₂ (Carbon dioxide)</option>
                            <option value="H2O">H₂O (Water)</option>
                        </select>
                    </div>
                    
                    <button class="calculate-btn" onclick="calculateStoichiometry()">🧮 Calculate</button>
                    
                    <div id="stoich-result" class="result-display" style="display: none;">
                        <div id="stoich-calculation"></div>
                    </div>
                </div>

                <!-- Concentration Calculator -->
                <div class="calculator-section">
                    <h3>🧪 Concentration Calculator</h3>
                    
                    <div class="input-group">
                        <label>📊 Calculation type:</label>
                        <select id="concentration-type" onchange="updateConcentrationInputs()">
                            <option value="molarity">Molarity (M)</option>
                            <option value="dilution">Dilution (M₁V₁ = M₂V₂)</option>
                        </select>
                    </div>

                    <div id="molarity-inputs">
                        <div class="input-group">
                            <label>🧂 Mass of solute (g):</label>
                            <input type="number" id="solute-mass" step="0.01" placeholder="Enter mass">
                        </div>
                        
                        <div class="input-group">
                            <label>⚛️ Molar mass (g/mol):</label>
                            <input type="number" id="molar-mass-conc" step="0.01" placeholder="Enter molar mass">
                        </div>
                        
                        <div class="input-group">
                            <label>🧪 Volume of solution (mL):</label>
                            <input type="number" id="solution-volume" step="0.1" placeholder="Enter volume">
                        </div>
                    </div>

                    <div id="dilution-inputs" style="display: none;">
                        <div class="input-group">
                            <label>🔵 Initial molarity (M₁):</label>
                            <input type="number" id="m1" step="0.01" placeholder="Initial concentration">
                        </div>
                        
                        <div class="input-group">
                            <label>🔵 Initial volume (V₁) mL:</label>
                            <input type="number" id="v1" step="0.1" placeholder="Initial volume">
                        </div>
                        
                        <div class="input-group">
                            <label>🔴 Final molarity (M₂):</label>
                            <input type="number" id="m2" step="0.01" placeholder="Final concentration">
                        </div>
                        
                        <div class="input-group">
                            <label>🔴 Final volume (V₂) mL:</label>
                            <input type="number" id="v2" step="0.1" placeholder="Leave blank to calculate">
                        </div>
                    </div>
                    
                    <button class="calculate-btn" onclick="calculateConcentration()">🧮 Calculate</button>
                    
                    <div id="concentration-result" class="result-display" style="display: none;">
                        <div id="concentration-calculation"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Molecular masses database
        const molarMasses = {
            'CH4': 16.043,
            'O2': 31.998,
            'CO2': 44.009,
            'H2O': 18.016,
            'H2': 2.016
        };

        // Stoichiometric coefficients for different reactions
        const reactions = {
            'ch4': {
                'CH4': 1, 'O2': 2, 'CO2': 1, 'H2O': 2
            },
            'h2o2': {
                'H2': 2, 'O2': 1, 'H2O': 2
            }
        };

        function showTab(tabName) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remove active from all tabs
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected section
            document.getElementById(tabName).classList.add('active');
            
            // Add active to clicked tab
            event.target.classList.add('active');
        }

        function updateConcentrationInputs() {
            const type = document.getElementById('concentration-type').value;
            const molarityInputs = document.getElementById('molarity-inputs');
            const dilutionInputs = document.getElementById('dilution-inputs');
            
            if (type === 'dilution') {
                molarityInputs.style.display = 'none';
                dilutionInputs.style.display = 'block';
            } else {
                molarityInputs.style.display = 'block';
                dilutionInputs.style.display = 'none';
            }
        }

        function calculateStoichiometry() {
            const reaction = document.getElementById('reaction-select').value;
            const givenSubstance = document.getElementById('given-substance').value;
            const givenAmount = parseFloat(document.getElementById('given-amount').value);
            const findSubstance = document.getElementById('find-substance').value;
            
            if (isNaN(givenAmount) || givenAmount <= 0) {
                alert('⚠️ Please enter a valid amount!');
                return;
            }
            
            if (givenSubstance === findSubstance) {
                alert('⚠️ Please select different substances!');
                return;
            }
            
            const reactionCoeffs = reactions[reaction];
            const givenMolarMass = molarMasses[givenSubstance];
            const findMolarMass = molarMasses[findSubstance];
            
            // Calculate moles of given substance
            const givenMoles = givenAmount / givenMolarMass;
            
            // Calculate moles of substance to find using stoichiometry
            const findMoles = givenMoles * (reactionCoeffs[findSubstance] / reactionCoeffs[givenSubstance]);
            
            // Calculate mass of substance to find
            const findAmount = findMoles * findMolarMass;
            
            const resultDiv = document.getElementById('stoich-result');
            const calculationDiv = document.getElementById('stoich-calculation');
            
            calculationDiv.innerHTML = `
                <h4>🧮 Stoichiometric Calculation Results:</h4>
                <p><strong>📥 Given:</strong> ${givenAmount} g of ${givenSubstance}</p>
                <p><strong>🔬 Step 1:</strong> Moles of ${givenSubstance} = ${givenAmount} g ÷ ${givenMolarMass} g/mol = <strong>${givenMoles.toFixed(4)} mol</strong></p>
                <p><strong>⚛️ Step 2:</strong> Stoichiometry ratio: ${reactionCoeffs[givenSubstance]} mol ${givenSubstance} : ${reactionCoeffs[findSubstance]} mol ${findSubstance}</p>
                <p><strong>🧪 Step 3:</strong> Moles of ${findSubstance} = ${givenMoles.toFixed(4)} × (${reactionCoeffs[findSubstance]}/${reactionCoeffs[givenSubstance]}) = <strong>${findMoles.toFixed(4)} mol</strong></p>
                <p><strong>⚖️ Step 4:</strong> Mass of ${findSubstance} = ${findMoles.toFixed(4)} mol × ${findMolarMass} g/mol = <strong style="color: #667eea; font-size: 1.2em;">${findAmount.toFixed(3)} g</strong></p>
                <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 8px;">
                    <strong>✅ Final Answer:</strong> ${findAmount.toFixed(3)} g of ${findSubstance} is required/produced
                </div>
            `;
            
            resultDiv.style.display = 'block';
            animateResult(resultDiv);
        }

        function calculateConcentration() {
            const type = document.getElementById('concentration-type').value;
            
            if (type === 'dilution') {
                calculateDilution();
            } else if (type === 'molarity') {
                calculateMolarity();
            }
        }

        function calculateMolarity() {
            const soluteMass = parseFloat(document.getElementById('solute-mass').value);
            const molarMass = parseFloat(document.getElementById('molar-mass-conc').value);
            const volume = parseFloat(document.getElementById('solution-volume').value);
            
            if (isNaN(soluteMass) || isNaN(molarMass) || isNaN(volume) || volume <= 0 || molarMass <= 0) {
                alert('⚠️ Please enter valid values!');
                return;
            }
            
            const moles = soluteMass / molarMass;
            const volumeL = volume / 1000;
            const molarity = moles / volumeL;
            
            const resultDiv = document.getElementById('concentration-result');
            const calculationDiv = document.getElementById('concentration-calculation');
            
            calculationDiv.innerHTML = `
                <h4>🧪 Molarity Calculation Results:</h4>
                <p><strong>📥 Given:</strong> ${soluteMass} g solute, Molar mass = ${molarMass} g/mol, Volume = ${volume} mL</p>
                <p><strong>⚛️ Step 1:</strong> Moles of solute = ${soluteMass} g ÷ ${molarMass} g/mol = <strong>${moles.toFixed(4)} mol</strong></p>
                <p><strong>📏 Step 2:</strong> Volume in L = ${volume} mL ÷ 1000 = <strong>${volumeL.toFixed(3)} L</strong></p>
                <p><strong>🧮 Step 3:</strong> Molarity = ${moles.toFixed(4)} mol ÷ ${volumeL.toFixed(3)} L = <strong style="color: #667eea; font-size: 1.2em;">${molarity.toFixed(3)} M</strong></p>
                <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 8px;">
                    <strong>✅ Final Answer:</strong> ${molarity.toFixed(3)} M solution
                </div>
            `;
            
            resultDiv.style.display = 'block';
            animateResult(resultDiv);
        }

        function calculateDilution() {
            const m1 = parseFloat(document.getElementById('m1').value);
            const v1 = parseFloat(document.getElementById('v1').value);
            const m2 = parseFloat(document.getElementById('m2').value);
            const v2 = parseFloat(document.getElementById('v2').value);
            
            if (isNaN(m1) || isNaN(v1)) {
                alert('⚠️ Please enter initial molarity and volume!');
                return;
            }
            
            let calculationHTML = '';
            
            if (!isNaN(m2) && isNaN(v2)) {
                // Calculate V2
                const calculatedV2 = (m1 * v1) / m2;
                calculationHTML = `
                    <h4>💧 Dilution Calculation (Finding V₂):</h4>
                    <p><strong>📥 Given:</strong> M₁ = ${m1} M, V₁ = ${v1} mL, M₂ = ${m2} M</p>
                    <p><strong>📐 Formula:</strong> M₁V₁ = M₂V₂</p>
                    <p><strong>🧮 Calculation:</strong> V₂ = (M₁ × V₁) / M₂ = (${m1} × ${v1}) / ${m2} = <strong style="color: #667eea; font-size: 1.2em;">${calculatedV2.toFixed(2)} mL</strong></p>
                    <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 8px;">
                        <strong>🧪 Instructions:</strong> Take ${v1} mL of ${m1} M solution and dilute to ${calculatedV2.toFixed(2)} mL total volume
                    </div>
                `;
            } else if (!isNaN(v2) && isNaN(m2)) {
                // Calculate M2
                const calculatedM2 = (m1 * v1) / v2;
                calculationHTML = `
                    <h4>💧 Dilution Calculation (Finding M₂):</h4>
                    <p><strong>📥 Given:</strong> M₁ = ${m1} M, V₁ = ${v1} mL, V₂ = ${v2} mL</p>
                    <p><strong>📐 Formula:</strong> M₁V₁ = M₂V₂</p>
                    <p><strong>🧮 Calculation:</strong> M₂ = (M₁ × V₁) / V₂ = (${m1} × ${v1}) / ${v2} = <strong style="color: #667eea; font-size: 1.2em;">${calculatedM2.toFixed(3)} M</strong></p>
                    <div style="margin-top: 15px; padding: 10px; background: #e8f5e8; border-radius: 8px;">
                        <strong>✅ Result:</strong> Final concentration after dilution is ${calculatedM2.toFixed(3)} M
                    </div>
                `;
            } else {
                alert('⚠️ Please provide either M₂ OR V₂ (not both) to calculate the missing value!');
                return;
            }
            
            const resultDiv = document.getElementById('concentration-result');
            const calculationDiv = document.getElementById('concentration-calculation');
            
            calculationDiv.innerHTML = calculationHTML;
            
            resultDiv.style.display = 'block';
            animateResult(resultDiv);
        }

        function animateResult(element) {
            element.style.opacity = '0';
            element.style.transform = 'translateY(20px)';
            setTimeout(() => {
                element.style.transition = 'all 0.5s ease';
                element.style.opacity = '1';
                element.style.transform = 'translateY(0)';
            }, 100);
        }

        function createFloatingParticles() {
            const particles = ['⚛️', '🧪', '⚗️', '🔬', '🧬', '💧', '🌡️', '📊'];
            const container = document.getElementById('floating-particles');
            
            function addParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.innerHTML = particles[Math.floor(Math.random() * particles.length)];
                particle.style.position = 'absolute';
                particle.style.fontSize = '20px';
                particle.style.opacity = '0.6';
                particle.style.animation = 'floatUp 8s linear infinite';
                particle.style.left = Math.random() * 100 + 'vw';
                
                container.appendChild(particle);
                
                setTimeout(() => {
                    if (container.contains(particle)) {
                        container.removeChild(particle);
                    }
                }, 8000);
            }
            
            // Create initial particles
            for (let i = 0; i < 5; i++) {
                setTimeout(addParticle, i * 1000);
            }
            
            // Continue adding particles
            setInterval(addParticle, 2000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('⚗️ Stoichiometry & Solutions Tool Loaded Successfully!');
            
            // Update substance options based on reaction
            document.getElementById('reaction-select').addEventListener('change', function() {
                const reaction = this.value;
                const givenSelect = document.getElementById('given-substance');
                const findSelect = document.getElementById('find-substance');
                
                // Clear existing options
                givenSelect.innerHTML = '';
                findSelect.innerHTML = '';
                
                if (reaction === 'ch4') {
                    const substances = [
                        {value: 'CH4', text: 'CH₄ (Methane)'},
                        {value: 'O2', text: 'O₂ (Oxygen)'},
                        {value: 'CO2', text: 'CO₂ (Carbon dioxide)'},
                        {value: 'H2O', text: 'H₂O (Water)'}
                    ];
                    
                    substances.forEach(sub => {
                        givenSelect.innerHTML += `<option value="${sub.value}">${sub.text}</option>`;
                        findSelect.innerHTML += `<option value="${sub.value}">${sub.text}</option>`;
                    });
                } else if (reaction === 'h2o2') {
                    const substances = [
                        {value: 'H2', text: 'H₂ (Hydrogen)'},
                        {value: 'O2', text: 'O₂ (Oxygen)'},
                        {value: 'H2O', text: 'H₂O (Water)'}
                    ];
                    
                    substances.forEach(sub => {
                        givenSelect.innerHTML += `<option value="${sub.value}">${sub.text}</option>`;
                        findSelect.innerHTML += `<option value="${sub.value}">${sub.text}</option>`;
                    });
                }
                
                // Set different default values
                findSelect.selectedIndex = 1;
            });
            
            // Initialize floating particles
            createFloatingParticles();
            
            // Add startup animations
            setTimeout(() => {
                const atoms = document.querySelectorAll('.atom-3d');
                atoms.forEach((atom, index) => {
                    setTimeout(() => {
                        atom.style.transform = 'scale(1.3)';
                        setTimeout(() => {
                            atom.style.transform = 'scale(1)';
                        }, 400);
                    }, index * 200);
                });
            }, 1000);
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section 1.5: Laws of Exponents for Real Numbers</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border-left: 6px solid #667eea;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .interactive-tool {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #e2e8f0;
        }

        .input-group {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            align-items: center;
            flex-wrap: wrap;
        }

        input, select, button {
            padding: 12px 16px;
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .result-box {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .laws-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .law-card {
            background: linear-gradient(135deg, #fa709a, #fee140);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .law-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .law-card h3 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .law-formula {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 10px 0;
        }

        .calculator-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .calc-input {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            width: 80px;
            margin: 0 5px;
        }

        .calc-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .conversion-tool {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .conversion-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .example-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: transform 0.3s ease;
        }

        .example-card:hover {
            transform: translateY(-5px);
        }

        .steps-container {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .step {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #fdcb6e;
        }

        .practice-section {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .practice-problem {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ff6b6b;
        }

        .fraction-input {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            margin: 0 10px;
        }

        .fraction-input input {
            width: 60px;
            text-align: center;
            margin: 2px 0;
        }

        .fraction-line {
            width: 60px;
            height: 2px;
            background: #333;
            margin: 2px 0;
        }

        .highlight {
            background: yellow;
            padding: 2px 4px;
            border-radius: 3px;
            color: #333;
        }

        .correct { background-color: #10b981 !important; color: white; }
        .incorrect { background-color: #ef4444 !important; color: white; }

        .animated {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .visual-demo {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            text-align: center;
        }

        sup {
            font-size: 0.8em;
            vertical-align: super;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔢 Section 1.5: Laws of Exponents for Real Numbers</h1>

        <!-- Exponent Laws Overview -->
        <div class="section">
            <h2>📚 Laws of Exponents</h2>
            <p>Click on each law to see interactive demonstrations and examples!</p>
            
            <div class="laws-grid">
                <div class="law-card" onclick="demonstrateLaw(1)">
                    <h3>Law 1: Product Rule</h3>
                    <div class="law-formula">a<sup>m</sup> × a<sup>n</sup> = a<sup>m+n</sup></div>
                </div>
                
                <div class="law-card" onclick="demonstrateLaw(2)">
                    <h3>Law 2: Power Rule</h3>
                    <div class="law-formula">(a<sup>m</sup>)<sup>n</sup> = a<sup>mn</sup></div>
                </div>
                
                <div class="law-card" onclick="demonstrateLaw(3)">
                    <h3>Law 3: Quotient Rule</h3>
                    <div class="law-formula">a<sup>m</sup> ÷ a<sup>n</sup> = a<sup>m-n</sup></div>
                </div>
                
                <div class="law-card" onclick="demonstrateLaw(4)">
                    <h3>Law 4: Product of Powers</h3>
                    <div class="law-formula">a<sup>m</sup> × b<sup>m</sup> = (ab)<sup>m</sup></div>
                </div>
            </div>
            
            <div id="lawDemo" class="visual-demo" style="display: none;">
                Click on a law above to see a demonstration!
            </div>
        </div>

        <!-- Interactive Exponent Calculator -->
        <div class="section">
            <h2>🧮 Interactive Exponent Calculator</h2>
            
            <div class="calculator-section">
                <h3>Calculate with Rational Exponents</h3>
                
                <div class="calculator-grid">
                    <!-- Basic Calculation -->
                    <div>
                        <h4>Basic Calculation: a<sup>p/q</sup></h4>
                        <div class="input-group">
                            <label>Base (a):</label>
                            <input type="number" id="calcBase" class="calc-input" value="4" min="0.1">
                        </div>
                        <div class="input-group">
                            <label>Exponent:</label>
                            <div class="fraction-input">
                                <input type="number" id="calcNum" value="3">
                                <div class="fraction-line"></div>
                                <input type="number" id="calcDen" value="2" min="1">
                            </div>
                        </div>
                        <button onclick="calculateBasicExponent()">Calculate</button>
                        <div id="basicResult" style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            Result will appear here
                        </div>
                    </div>

                    <!-- Product Rule -->
                    <div>
                        <h4>Product Rule: a<sup>p</sup> × a<sup>q</sup></h4>
                        <div class="input-group">
                            <label>Base:</label>
                            <input type="number" id="prodBase" class="calc-input" value="2" min="0.1">
                        </div>
                        <div class="input-group">
                            <label>Exp 1:</label>
                            <div class="fraction-input">
                                <input type="number" id="prod1Num" value="2">
                                <div class="fraction-line"></div>
                                <input type="number" id="prod1Den" value="3" min="1">
                            </div>
                            <label>Exp 2:</label>
                            <div class="fraction-input">
                                <input type="number" id="prod2Num" value="1">
                                <div class="fraction-line"></div>
                                <input type="number" id="prod2Den" value="3" min="1">
                            </div>
                        </div>
                        <button onclick="calculateProduct()">Calculate</button>
                        <div id="productResult" style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            Result will appear here
                        </div>
                    </div>

                    <!-- Power Rule -->
                    <div>
                        <h4>Power Rule: (a<sup>p</sup>)<sup>q</sup></h4>
                        <div class="input-group">
                            <label>Base:</label>
                            <input type="number" id="powerBase" class="calc-input" value="3" min="0.1">
                        </div>
                        <div class="input-group">
                            <label>Inner:</label>
                            <div class="fraction-input">
                                <input type="number" id="innerNum" value="1">
                                <div class="fraction-line"></div>
                                <input type="number" id="innerDen" value="5" min="1">
                            </div>
                            <label>Outer:</label>
                            <input type="number" id="outerExp" class="calc-input" value="4">
                        </div>
                        <button onclick="calculatePower()">Calculate</button>
                        <div id="powerResult" style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            Result will appear here
                        </div>
                    </div>

                    <!-- Quotient Rule -->
                    <div>
                        <h4>Quotient Rule: a<sup>p</sup> ÷ a<sup>q</sup></h4>
                        <div class="input-group">
                            <label>Base:</label>
                            <input type="number" id="quotBase" class="calc-input" value="7" min="0.1">
                        </div>
                        <div class="input-group">
                            <label>Exp 1:</label>
                            <div class="fraction-input">
                                <input type="number" id="quot1Num" value="1">
                                <div class="fraction-line"></div>
                                <input type="number" id="quot1Den" value="5" min="1">
                            </div>
                            <label>Exp 2:</label>
                            <div class="fraction-input">
                                <input type="number" id="quot2Num" value="1">
                                <div class="fraction-line"></div>
                                <input type="number" id="quot2Den" value="3" min="1">
                            </div>
                        </div>
                        <button onclick="calculateQuotient()">Calculate</button>
                        <div id="quotientResult" style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            Result will appear here
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conversion Tool -->
        <div class="section">
            <h2>🔄 Radical ↔ Exponential Conversion Tool</h2>
            
            <div class="conversion-tool">
                <h3>Convert between radical and exponential forms</h3>
                
                <div class="input-group">
                    <label>Conversion type:</label>
                    <select id="conversionType">
                        <option value="radToExp">Radical to Exponential</option>
                        <option value="expToRad">Exponential to Radical</option>
                    </select>
                    <button onclick="generateConversionProblem()">Generate Problem</button>
                </div>
                
                <div id="conversionProblem" class="visual-demo">
                    Click "Generate Problem" to start!
                </div>
                
                <div class="input-group">
                    <label>Your answer:</label>
                    <input type="text" id="conversionAnswer" placeholder="Enter your answer" style="width: 200px;">
                    <button onclick="checkConversion()">Check Answer</button>
                    <button onclick="showConversionSteps()">Show Solution</button>
                </div>
                
                <div id="conversionResult" class="result-box">
                    Enter your answer above!
                </div>
                
                <div class="conversion-examples">
                    <div class="example-card">
                        <h4>Example 1</h4>
                        <strong>∛8 = 8<sup>1/3</sup> = 2</strong>
                    </div>
                    <div class="example-card">
                        <h4>Example 2</h4>
                        <strong>4<sup>3/2</sup> = (√4)<sup>3</sup> = 2<sup>3</sup> = 8</strong>
                    </div>
                    <div class="example-card">
                        <h4>Example 3</h4>
                        <strong>⁵√32 = 32<sup>1/5</sup> = 2</strong>
                    </div>
                    <div class="example-card">
                        <h4>Example 4</h4>
                        <strong>9<sup>3/2</sup> = (√9)<sup>3</sup> = 3<sup>3</sup> = 27</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step-by-Step Simplifier -->
        <div class="section">
            <h2>🔍 Step-by-Step Simplification Tool</h2>
            
            <div class="interactive-tool">
                <div class="input-group">
                    <label>Choose problem type:</label>
                    <select id="simplifyType">
                        <option value="example20">Examples from Section (2^(2/3) × 2^(1/3), etc.)</option>
                        <option value="custom">Custom problem</option>
                    </select>
                    <button onclick="generateSimplificationProblem()">Generate</button>
                </div>
                
                <div id="simplificationProblem" class="visual-demo">
                    Select a problem type and click Generate!
                </div>
                
                <div id="simplificationSteps" class="steps-container" style="display: none;">
                    <h3>Step-by-Step Solution:</h3>
                    <div id="simplificationStepsContent"></div>
                </div>
            </div>
        </div>

        <!-- Practice Problems -->
        <div class="section">
            <h2>🎯 Practice Problems</h2>
            
            <div class="practice-section">
                <h3>Test Your Understanding!</h3>
                
                <div class="practice-problem">
                    <h4>Problem 1: Simplify 2<sup>2/3</sup> × 2<sup>1/3</sup></h4>
                    <div class="input-group">
                        <label>Answer:</label>
                        <input type="text" id="prob1Answer" placeholder="Enter answer">
                        <button onclick="checkPractice(1, '2')">Check</button>
                    </div>
                    <div id="prob1Feedback" style="margin: 10px 0; padding: 10px; border-radius: 5px;">
                        Enter your answer above
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>Problem 2: Simplify (3<sup>1/5</sup>)<sup>4</sup></h4>
                    <div class="input-group">
                        <label>Answer:</label>
                        <input type="text" id="prob2Answer" placeholder="Enter answer">
                        <button onclick="checkPractice(2, '3^(4/5)')">Check</button>
                    </div>
                    <div id="prob2Feedback" style="margin: 10px 0; padding: 10px; border-radius: 5px;">
                        Enter your answer above
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>Problem 3: Simplify 7<sup>1/5</sup> ÷ 7<sup>1/3</sup></h4>
                    <div class="input-group">
                        <label>Answer:</label>
                        <input type="text" id="prob3Answer" placeholder="Enter answer">
                        <button onclick="checkPractice(3, '7^(-2/15)')">Check</button>
                    </div>
                    <div id="prob3Feedback" style="margin: 10px 0; padding: 10px; border-radius: 5px;">
                        Enter your answer above
                    </div>
                </div>
                
                <div class="practice-problem">
                    <h4>Problem 4: Simplify 13<sup>1/5</sup> × 17<sup>1/5</sup></h4>
                    <div class="input-group">
                        <label>Answer:</label>
                        <input type="text" id="prob4Answer" placeholder="Enter answer">
                        <button onclick="checkPractice(4, '221^(1/5)')">Check</button>
                    </div>
                    <div id="prob4Feedback" style="margin: 10px 0; padding: 10px; border-radius: 5px;">
                        Enter your answer above
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentConversionProblem = {};
        
        function demonstrateLaw(lawNum) {
            const demonstrations = {
                1: `Example: 2³ × 2² = 2⁵ = 32
   Also: 2^(2/3) × 2^(1/3) = 2^((2/3)+(1/3)) = 2¹ = 2
   Numerical check: ∛(2²) × ∛2 = ∛4 × ∛2 = ∛8 = 2 ✓`,
                
                2: `Example: (2³)² = 2⁶ = 64
   Also: (3^(1/5))⁴ = 3^((1/5)×4) = 3^(4/5)
   This equals ⁵√(3⁴) = ⁵√81`,
                
                3: `Example: 2⁵ ÷ 2² = 2³ = 8
   Also: 7^(1/5) ÷ 7^(1/3) = 7^((1/5)-(1/3)) = 7^(-2/15)
   This equals 1/(7^(2/15))`,
                
                4: `Example: 2³ × 3³ = (2×3)³ = 6³ = 216
   Also: 13^(1/5) × 17^(1/5) = (13×17)^(1/5) = 221^(1/5)
   This equals ⁵√221`
            };
            
            document.getElementById('lawDemo').innerHTML = demonstrations[lawNum];
            document.getElementById('lawDemo').style.display = 'block';
        }
        
        function calculateBasicExponent() {
            const base = parseFloat(document.getElementById('calcBase').value);
            const num = parseInt(document.getElementById('calcNum').value);
            const den = parseInt(document.getElementById('calcDen').value);
            
            if (base <= 0 || den === 0) {
                document.getElementById('basicResult').innerHTML = "Invalid input!";
                return;
            }
            
            const exponent = num / den;
            const result = Math.pow(base, exponent);
            
            document.getElementById('basicResult').innerHTML = `
                ${base}^(${num}/${den}) = ${base}^${exponent.toFixed(3)} = ${result.toFixed(3)}
                <br>Alternative: ${den}√(${base}^${num}) = ${den}√${Math.pow(base, num).toFixed(1)} = ${result.toFixed(3)}
            `;
        }
        
        function calculateProduct() {
            const base = parseFloat(document.getElementById('prodBase').value);
            const num1 = parseInt(document.getElementById('prod1Num').value);
            const den1 = parseInt(document.getElementById('prod1Den').value);
            const num2 = parseInt(document.getElementById('prod2Num').value);
            const den2 = parseInt(document.getElementById('prod2Den').value);
            
            if (base <= 0 || den1 === 0 || den2 === 0) {
                document.getElementById('productResult').innerHTML = "Invalid input!";
                return;
            }
            
            // Calculate common denominator for addition
            const commonDen = den1 * den2 / gcd(den1, den2);
            const adjustedNum1 = num1 * (commonDen / den1);
            const adjustedNum2 = num2 * (commonDen / den2);
            const resultNum = adjustedNum1 + adjustedNum2;
            
            // Simplify the resulting fraction
            const resultGCD = gcd(Math.abs(resultNum), commonDen);
            const finalNum = resultNum / resultGCD;
            const finalDen = commonDen / resultGCD;
            
            const result = Math.pow(base, resultNum / commonDen);
            
            document.getElementById('productResult').innerHTML = `
                ${base}^(${num1}/${den1}) × ${base}^(${num2}/${den2}) = ${base}^(${num1}/${den1} + ${num2}/${den2})
                <br>= ${base}^(${finalNum}/${finalDen}) = ${result.toFixed(3)}
            `;
        }
        
        function calculatePower() {
            const base = parseFloat(document.getElementById('powerBase').value);
            const innerNum = parseInt(document.getElementById('innerNum').value);
            const innerDen = parseInt(document.getElementById('innerDen').value);
            const outer = parseInt(document.getElementById('outerExp').value);
            
            if (base <= 0 || innerDen === 0) {
                document.getElementById('powerResult').innerHTML = "Invalid input!";
                return;
            }
            
            const resultNum = innerNum * outer;
            const resultDen = innerDen;
            
            // Simplify
            const resultGCD = gcd(Math.abs(resultNum), resultDen);
            const finalNum = resultNum / resultGCD;
            const finalDen = resultDen / resultGCD;
            
            const result = Math.pow(base, resultNum / resultDen);
            
            document.getElementById('powerResult').innerHTML = `
                (${base}^(${innerNum}/${innerDen}))^${outer} = ${base}^(${innerNum}/${innerDen} × ${outer})
                <br>= ${base}^(${finalNum}/${finalDen}) = ${result.toFixed(3)}
            `;
        }
        
        function calculateQuotient() {
            const base = parseFloat(document.getElementById('quotBase').value);
            const num1 = parseInt(document.getElementById('quot1Num').value);
            const den1 = parseInt(document.getElementById('quot1Den').value);
            const num2 = parseInt(document.getElementById('quot2Num').value);
            const den2 = parseInt(document.getElementById('quot2Den').value);
            
            if (base <= 0 || den1 === 0 || den2 === 0) {
                document.getElementById('quotientResult').innerHTML = "Invalid input!";
                return;
            }
            
            // Calculate common denominator for subtraction
            const commonDen = den1 * den2 / gcd(den1, den2);
            const adjustedNum1 = num1 * (commonDen / den1);
            const adjustedNum2 = num2 * (commonDen / den2);
            const resultNum = adjustedNum1 - adjustedNum2;
            
            // Simplify the resulting fraction
            const resultGCD = gcd(Math.abs(resultNum), commonDen);
            const finalNum = resultNum / resultGCD;
            const finalDen = commonDen / resultGCD;
            
            const result = Math.pow(base, resultNum / commonDen);
            
            document.getElementById('quotientResult').innerHTML = `
                ${base}^(${num1}/${den1}) ÷ ${base}^(${num2}/${den2}) = ${base}^(${num1}/${den1} - ${num2}/${den2})
                <br>= ${base}^(${finalNum}/${finalDen}) = ${result.toFixed(3)}
            `;
        }
        
        function gcd(a, b) {
            while (b !== 0) {
                let temp = b;
                b = a % b;
                a = temp;
            }
            return a;
        }
        
        function generateConversionProblem() {
            const type = document.getElementById('conversionType').value;
            let problem = "";
            let answer = "";
            let steps = [];
            
            if (type === 'radToExp') {
                const problems = [
                    {problem: "∛8", answer: "8^(1/3)", steps: ["∛8 = 8^(1/3)", "Since ∛8 = 2, we have 8^(1/3) = 2"]},
                    {problem: "⁴√16", answer: "16^(1/4)", steps: ["⁴√16 = 16^(1/4)", "Since ⁴√16 = 2, we have 16^(1/4) = 2"]},
                    {problem: "⁵√32", answer: "32^(1/5)", steps: ["⁵√32 = 32^(1/5)", "Since ⁵√32 = 2, we have 32^(1/5) = 2"]},
                    {problem: "√(7³)", answer: "7^(3/2)", steps: ["√(7³) = (7³)^(1/2)", "Using (aᵐ)ⁿ = aᵐⁿ", "= 7^(3×1/2) = 7^(3/2)"]}
                ];
                const selected = problems[Math.floor(Math.random() * problems.length)];
                problem = selected.problem;
                answer = selected.answer;
                steps = selected.steps;
            } else {
                const problems = [
                    {problem: "4^(3/2)", answer: "(√4)³ = 2³ = 8", steps: ["4^(3/2) = (4^(1/2))³", "= (√4)³", "= 2³ = 8"]},
                    {problem: "27^(2/3)", answer: "(∛27)² = 3² = 9", steps: ["27^(2/3) = (27^(1/3))²", "= (∛27)²", "= 3² = 9"]},
                    {problem: "16^(1/4)", answer: "⁴√16 = 2", steps: ["16^(1/4) = ⁴√16", "= 2"]},
                    {problem: "125^(2/3)", answer: "(∛125)² = 5² = 25", steps: ["125^(2/3) = (125^(1/3))²", "= (∛125)²", "= 5² = 25"]}
                ];
                const selected = problems[Math.floor(Math.random() * problems.length)];
                problem = selected.problem;
                answer = selected.answer;
                steps = selected.steps;
            }
            
            currentConversionProblem = {problem, answer, steps};
            document.getElementById('conversionProblem').innerHTML = `Convert: ${problem}`;
            document.getElementById('conversionAnswer').value = '';
            document.getElementById('conversionResult').innerHTML = 'Enter your answer above!';
        }
        
        function checkConversion() {
            const userAnswer = document.getElementById('conversionAnswer').value.trim();
            const correctAnswer = currentConversionProblem.answer;
            
            if (!userAnswer) {
                document.getElementById('conversionResult').innerHTML = 'Please enter an answer!';
                return;
            }
            
            // Simple string comparison (would need more sophisticated parsing in real app)
            const normalized = userAnswer.replace(/\s/g, '').toLowerCase();
            const correct = correctAnswer.replace(/\s/g, '').toLowerCase();
            
            if (normalized.includes(correct.split('=')[0]) || normalized === correct.split('=')[0]) {
                document.getElementById('conversionResult').innerHTML = 
                    `<span class="highlight">✓ Correct!</span><br>Full answer: ${correctAnswer}`;
                document.getElementById('conversionResult').classList.add('correct');
            } else {
                document.getElementById('conversionResult').innerHTML = 
                    `✗ Incorrect.<br>Correct answer: ${correctAnswer}`;
                document.getElementById('conversionResult').classList.add('incorrect');
            }
        }
        
        function showConversionSteps() {
            if (currentConversionProblem.steps) {
                const stepsHTML = currentConversionProblem.steps.map(step => `<div class="step">${step}</div>`).join('');
                document.getElementById('conversionResult').innerHTML = 
                    `<div style="text-align: left;">${stepsHTML}</div>`;
            }
        }
        
        function generateSimplificationProblem() {
            const type = document.getElementById('simplifyType').value;
            
            if (type === 'example20') {
                const problems = [
                    {
                        problem: "2^(2/3) × 2^(1/3)",
                        steps: [
                            "Problem: 2^(2/3) × 2^(1/3)",
                            "Apply law: aᵖ × aᵍ = aᵖ⁺ᵍ",
                            "= 2^(2/3 + 1/3)",
                            "= 2^(3/3)",
                            "= 2¹ = 2"
                        ]
                    },
                    {
                        problem: "(3^(1/5))⁴",
                        steps: [
                            "Problem: (3^(1/5))⁴",
                            "Apply law: (aᵖ)ᵍ = aᵖᵍ",
                            "= 3^((1/5) × 4)",
                            "= 3^(4/5)"
                        ]
                    },
                    {
                        problem: "7^(1/5) ÷ 7^(1/3)",
                        steps: [
                            "Problem: 7^(1/5) ÷ 7^(1/3)",
                            "Apply law: aᵖ ÷ aᵍ = aᵖ⁻ᵍ",
                            "= 7^(1/5 - 1/3)",
                            "= 7^(3/15 - 5/15)",
                            "= 7^(-2/15)"
                        ]
                    },
                    {
                        problem: "13^(1/5) × 17^(1/5)",
                        steps: [
                            "Problem: 13^(1/5) × 17^(1/5)",
                            "Apply law: aᵖ × bᵖ = (ab)ᵖ",
                            "= (13 × 17)^(1/5)",
                            "= 221^(1/5)"
                        ]
                    }
                ];
                
                const selected = problems[Math.floor(Math.random() * problems.length)];
                document.getElementById('simplificationProblem').innerHTML = selected.problem;
                document.getElementById('simplificationStepsContent').innerHTML = 
                    selected.steps.map(step => `<div class="step">${step}</div>`).join('');
                document.getElementById('simplificationSteps').style.display = 'block';
            }
        }
        
        function checkPractice(problemNum, correctAnswer) {
            const userAnswer = document.getElementById(`prob${problemNum}Answer`).value.trim();
            const feedback = document.getElementById(`prob${problemNum}Feedback`);
            
            if (!userAnswer) {
                feedback.innerHTML = 'Please enter an answer!';
                feedback.className = '';
                return;
            }
            
            // Normalize answers for comparison
            const normalized = userAnswer.replace(/\s/g, '').toLowerCase();
            const correct = correctAnswer.replace(/\s/g, '').toLowerCase();
            
            if (normalized === correct || 
                normalized === correct.replace(/\^|\(|\)/g, '') ||
                (problemNum === 1 && normalized === '2') ||
                (problemNum === 2 && (normalized.includes('3^4/5') || normalized.includes('3^(4/5)'))) ||
                (problemNum === 3 && (normalized.includes('7^-2/15') || normalized.includes('7^(-2/15)'))) ||
                (problemNum === 4 && (normalized.includes('221^1/5') || normalized.includes('221^(1/5)')))) {
                
                feedback.innerHTML = '✓ Correct! Well done!';
                feedback.className = 'correct';
            } else {
                feedback.innerHTML = `✗ Incorrect. The answer is: ${correctAnswer}`;
                feedback.className = 'incorrect';
            }
        }
        
        // Initialize
        window.onload = function() {
            calculateBasicExponent();
            calculateProduct();
            calculatePower();
            calculateQuotient();
            generateConversionProblem();
            generateSimplificationProblem();
        };
    </script>
</body>
</html>
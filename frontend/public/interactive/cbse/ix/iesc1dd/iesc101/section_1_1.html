<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paa·π≠ha AI - Section 1.1 Physical Nature of Matter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .logo {
            height: 48px;
            width: 48px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
        }

        .activity-container {
            background: #f0fdfa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #10b981;
        }

        .activity-title {
            color: #10b981;
            margin-bottom: 15px;
            font-size: 1.4em;
            text-align: center;
        }

        .experiment-setup {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .beaker {
            width: 120px;
            height: 150px;
            border: 4px solid #333;
            border-radius: 0 0 60px 60px;
            position: relative;
            background: linear-gradient(to bottom, transparent 20%, #87CEEB 20%);
            overflow: hidden;
            margin: 20px;
        }

        .water-level {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70%;
            background: #87CEEB;
            transition: all 0.5s ease;
        }

        .salt-container {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 15px;
            background: white;
            border-radius: 10px;
            opacity: 1;
            transition: all 3s ease;
        }

        .salt-container.dissolving {
            opacity: 0;
            height: 5px;
        }

        .water-line {
            position: absolute;
            right: -30px;
            top: 45px;
            width: 25px;
            height: 2px;
            background: #333;
        }

        .water-line::after {
            content: 'Initial Level';
            position: absolute;
            right: 0;
            top: -20px;
            font-size: 10px;
            white-space: nowrap;
        }

        .dilution-series {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .test-tube {
            width: 50px;
            height: 120px;
            border: 3px solid #333;
            border-radius: 0 0 25px 25px;
            position: relative;
            margin: 10px;
            background: linear-gradient(to bottom, transparent 25%, var(--color) 25%);
            transition: all 0.5s ease;
        }

        .tube-1 { --color: #8B0000; }
        .tube-2 { --color: #DC143C; }
        .tube-3 { --color: #FF69B4; }
        .tube-4 { --color: #FFB6C1; }
        .tube-5 { --color: #FFF0F5; }

        .tube-label {
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            font-size: 12px;
        }

        .arrow {
            font-size: 24px;
            color: #667eea;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn.secondary {
            background: linear-gradient(45deg, #64748b, #475569);
        }

        .observation-box {
            background: #f0f8ff;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .conclusion-box {
            background: #f0fdf4;
            border: 2px solid #10b981;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .particle-demo {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .particle-visualization {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .particle-container {
            width: 200px;
            height: 150px;
            border: 2px solid #ddd;
            border-radius: 10px;
            position: relative;
            background: #e3f2fd;
            overflow: hidden;
            margin: 10px;
        }

        .water-particles {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #2196F3;
            border-radius: 50%;
        }

        .salt-particles {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #FF5722;
            border-radius: 50%;
            animation: dissolve 3s ease-in-out infinite;
        }

        @keyframes dissolve {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .comparison-table tr:hover {
            background: #f5f5f5;
        }

        .quiz-section {
            background: #fff3e0;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .quiz-question {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 18px;
            color: #2d3748;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
            margin: 15px 0;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .quiz-option {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }

        .quiz-option:hover {
            background: #edf2f7;
            border-color: #667eea;
            transform: translateY(-1px);
        }

        .quiz-option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .quiz-option.correct {
            background: #48bb78;
            color: white;
            border-color: #48bb78;
        }

        .quiz-option.incorrect {
            background: #f56565;
            color: white;
            border-color: #f56565;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .info-highlight {
            background: linear-gradient(135deg, #e0f2fe, #f0fdfa);
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            gap: 10px;
        }

        .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step.active {
            background: #667eea;
            color: white;
        }

        .step.completed {
            background: #10b981;
            color: white;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .experiment-setup { flex-direction: column; }
            .dilution-series { flex-direction: column; }
            .particle-visualization { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-container">
                <svg 
                    viewBox="0 0 512 512" 
                    xmlns="http://www.w3.org/2000/svg"
                    class="logo"
                    aria-label="Paa·π≠ha AI Logo"
                >
                    <defs>
                        <linearGradient id="brandGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#dc2626" />
                            <stop offset="33%" stop-color="#dc2626" />
                            <stop offset="66%" stop-color="#fbbf24" />
                            <stop offset="100%" stop-color="#ecfdf5" />
                        </linearGradient>
                    </defs>
                    <g transform="rotate(-45, 256, 256)">
                        <path d="M501.98,206.15c-9.769-23.023-25.998-42.56-46.458-56.389c-10.181-6.873-21.446-12.34-33.536-16.068
                            c-12.009-3.809-24.842-5.798-38.088-5.798c-16.982,0-33.294,3.316-48.197,9.365c-1.246,0.492-2.402,0.986-3.558,1.568
                            c-13.416,5.879-25.675,14.16-36.188,24.017c-3.396,3.227-6.623,6.623-9.858,10.432c-5.709,6.542-11.588,14.079-17.305,21.696
                            c-1.157,1.568-2.402,3.226-3.558,4.804c-3.146,4.302-33.212,48.358-38.509,56.226c-2.652,3.97-5.798,8.442-9.195,13.327
                            c-0.744,1.076-1.568,2.24-2.393,3.396c-5.636,8.031-11.928,16.481-17.726,23.937c-2.895,3.72-5.798,7.197-8.281,10.1
                            c-2.563,2.976-4.884,5.378-6.542,6.954c-7.116,6.704-15.486,12.171-24.672,15.899c-9.194,3.728-19.214,5.798-29.816,5.798
                            c-7.286,0-14.322-0.996-20.944-2.815c-3.396-0.913-6.712-2.07-9.939-3.477c-14.248-5.968-26.419-16.068-34.95-28.74
                            c-4.302-6.372-7.699-13.327-10.019-20.783c-2.233-7.456-3.558-15.316-3.558-23.597c0-11.014,2.24-21.365,6.21-30.892
                            c6.049-14.24,16.149-26.329,28.821-34.942c6.372-4.31,13.326-7.618,20.782-9.939c7.448-2.321,15.316-3.638,23.597-3.638
                            c10.602,0.08,20.622,2.07,29.816,5.79c9.187,3.808,17.556,9.194,24.672,15.898c1.658,1.577,3.979,4.059,6.542,6.962
                            c4.472,5.216,9.769,11.92,15.074,18.964c2.07,2.814,4.14,5.628,6.21,8.523c7.949-11.588,21.858-31.959,29.144-42.48
                            c-1.237-1.658-2.482-3.307-3.72-4.965c-3.316-4.23-6.631-8.281-9.938-12.009c-3.316-3.809-6.462-7.205-9.858-10.432
                            c-11.426-10.772-24.922-19.545-39.746-25.586c-14.904-6.049-31.222-9.365-48.196-9.365c-17.637,0-34.53,3.566-49.927,10.108
                            c-23.022,9.688-42.487,25.918-56.316,46.369c-6.873,10.19-12.332,21.527-16.141,33.536C1.989,229.997,0,242.75,0,256.004
                            c0,17.637,3.558,34.53,10.02,49.846c9.768,23.104,25.998,42.569,46.369,56.397c10.27,6.874,21.535,12.332,33.624,16.141
                            c12.008,3.728,24.842,5.717,38.088,5.717c16.974,0,33.293-3.316,48.196-9.356c14.824-6.049,28.239-14.824,39.666-25.506l0.08-0.081
                            c3.397-3.146,6.543-6.631,9.858-10.44c5.709-6.542,11.588-14.071,17.305-21.689c1.157-1.577,2.402-3.154,3.558-4.723
                            c3.146-4.391,44.307-64.758,47.696-69.642c0.752-1.076,1.577-2.232,2.401-3.396c5.637-7.95,11.928-16.48,17.726-23.928
                            c2.895-3.728,5.798-7.206,8.281-10.101c2.564-2.984,4.885-5.386,6.542-6.962c7.116-6.704,15.486-12.09,24.673-15.898
                            c2.24-0.906,4.472-1.649,6.792-2.402c7.286-2.15,14.984-3.307,23.023-3.388c11.013,0.08,21.446,2.232,30.882,6.291
                            c14.241,5.96,26.42,16.06,34.943,28.732c4.31,6.38,7.706,13.335,10.019,20.782c2.321,7.456,3.566,15.324,3.566,23.605
                            c0,11.014-2.24,21.446-6.21,30.883c-6.049,14.24-16.149,26.419-28.821,34.942c-6.372,4.31-13.326,7.707-20.782,9.939
                            c-7.367,2.321-15.316,3.648-23.597,3.648c-10.602,0-20.622-2.07-29.816-5.798c-9.187-3.728-17.557-9.195-24.673-15.899
                            c-1.658-1.577-3.979-4.059-6.542-6.954c-4.472-5.135-9.776-11.928-15.074-18.963c-2.15-2.815-4.221-5.718-6.291-8.613
                            c-0.663,0.994-1.326,1.99-2.07,3.065c-13.666,20.039-22.279,32.71-26.994,39.576c1.237,1.658,2.483,3.235,3.72,4.893
                            c3.316,4.221,6.631,8.281,9.938,12c3.234,3.808,6.462,7.294,9.858,10.44c11.426,10.763,24.923,19.538,39.746,25.587
                            c14.904,6.04,31.215,9.356,48.197,9.356c17.636,0,34.53-3.558,49.846-10.019c23.103-9.769,42.56-25.999,56.396-46.458
                            c6.866-10.181,12.421-21.446,16.141-33.536C510.01,282.083,512,269.25,512,256.004C512,238.367,508.442,221.474,501.98,206.15z"
                            fill="url(#brandGradient)"
                            opacity="0.9">
                        </path>
                        <circle cx="385" cy="256" r="48" fill="#dc2626" opacity="0.8"></circle>
                    </g>
                </svg>
                <div>
                    <h1 style="margin: 0; font-size: 2.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">Paa·π≠ha AI</h1>
                    <p style="margin: 0; font-size: 1em; opacity: 0.9;">Interactive Chemistry Learning</p>
                </div>
            </div>
            <h2 style="font-size: 1.8em; margin-bottom: 10px;">üî¨ Section 1.1 - Physical Nature of Matter</h2>
            <p style="font-size: 1.2em; opacity: 0.9;">Discover if matter is continuous or made up of particles!</p>
        </div>

        <div class="section">
            <h2>ü§î Historical Question: Is Matter Continuous or Particulate?</h2>
            
            <div class="info-highlight">
                <h4>üèõÔ∏è Ancient Debate</h4>
                <p>For centuries, scientists debated the nature of matter:</p>
                <ul style="margin-top: 10px;">
                    <li><strong>School 1:</strong> Matter is continuous - like a solid block of wood</li>
                    <li><strong>School 2:</strong> Matter is made of particles - like grains of sand</li>
                </ul>
                <p style="margin-top: 10px;"><strong>Let's find out which is correct through experiments!</strong></p>
            </div>

            <div class="comparison-table">
                <thead>
                    <tr>
                        <th>Theory</th>
                        <th>Description</th>
                        <th>Example</th>
                        <th>Prediction</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Continuous Matter</strong></td>
                        <td>Matter has no gaps or spaces</td>
                        <td>Solid block of wood</td>
                        <td>Water level should rise when salt is added</td>
                    </tr>
                    <tr>
                        <td><strong>Particulate Matter</strong></td>
                        <td>Matter is made of tiny particles with spaces</td>
                        <td>Grains of sand</td>
                        <td>Water level should NOT change when salt is added</td>
                    </tr>
                </tbody>
            </div>
        </div>

        <div class="section">
            <h2>üß™ Activity 1.1 - Testing the Nature of Matter</h2>
            
            <div class="activity-container">
                <h3 class="activity-title">ü•Ñ Salt Dissolution Experiment</h3>
                
                <div class="step-indicator">
                    <div class="step active" id="step1">1</div>
                    <div class="arrow">‚Üí</div>
                    <div class="step" id="step2">2</div>
                    <div class="arrow">‚Üí</div>
                    <div class="step" id="step3">3</div>
                    <div class="arrow">‚Üí</div>
                    <div class="step" id="step4">4</div>
                </div>

                <div class="experiment-setup">
                    <div style="text-align: center;">
                        <h4>üß™ 100 mL Beaker</h4>
                        <div class="beaker" id="experimentBeaker">
                            <div class="water-level" id="waterLevel"></div>
                            <div class="water-line" id="waterLine"></div>
                            <div class="salt-container" id="saltContainer">Salt</div>
                        </div>
                        <p>Observe the water level!</p>
                    </div>
                </div>

                <div style="text-align: center; margin: 25px 0;">
                    <button class="btn" onclick="startExperiment()">üöÄ Start Experiment</button>
                    <button class="btn" onclick="addSalt()">üßÇ Add Salt</button>
                    <button class="btn" onclick="stirSolution()">ü•Ñ Stir Solution</button>
                    <button class="btn secondary" onclick="resetExperiment()">üîÑ Reset</button>
                </div>

                <div id="experimentObservation" class="observation-box">
                    <h4>üìù Observation</h4>
                    <p>Click "Start Experiment" to begin the activity!</p>
                </div>

                <div id="experimentConclusion" class="conclusion-box" style="display: none;">
                    <h4>üéØ Conclusion</h4>
                    <p><strong>The water level doesn't change!</strong> This proves that salt particles fit into the empty spaces between water particles. Therefore, <strong>matter is made up of particles with spaces between them!</strong></p>
                </div>
            </div>

            <div class="particle-demo">
                <h3>üî¨ Particle Visualization</h3>
                <div class="particle-visualization">
                    <div class="particle-container" id="beforeDissolution">
                        <h4>Before Dissolution</h4>
                        <!-- Particles will be generated by JavaScript -->
                    </div>
                    <div style="font-size: 24px; color: #667eea;">‚Üí</div>
                    <div class="particle-container" id="afterDissolution">
                        <h4>After Dissolution</h4>
                        <!-- Particles will be generated by JavaScript -->
                    </div>
                </div>
                <p><strong>Blue circles = Water particles, Red circles = Salt particles</strong></p>
            </div>
        </div>

        <div class="section">
            <h2>üî¨ Activity 1.2 - How Small Are These Particles?</h2>
            
            <div class="activity-container">
                <h3 class="activity-title">üíú Potassium Permanganate Dilution</h3>
                
                <div class="dilution-series">
                    <div style="text-align: center;">
                        <div class="test-tube tube-1" id="tube1"></div>
                        <div class="tube-label">Original<br>Solution</div>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div style="text-align: center;">
                        <div class="test-tube tube-2" id="tube2"></div>
                        <div class="tube-label">1st<br>Dilution</div>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div style="text-align: center;">
                        <div class="test-tube tube-3" id="tube3"></div>
                        <div class="tube-label">2nd<br>Dilution</div>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div style="text-align: center;">
                        <div class="test-tube tube-4" id="tube4"></div>
                        <div class="tube-label">3rd<br>Dilution</div>
                    </div>
                    <div class="arrow">‚Üí</div>
                    <div style="text-align: center;">
                        <div class="test-tube tube-5" id="tube5"></div>
                        <div class="tube-label">4th<br>Dilution</div>
                    </div>
                </div>

                <div style="text-align: center; margin: 25px 0;">
                    <button class="btn" onclick="startDilution()">üß™ Start Serial Dilution</button>
                    <button class="btn secondary" onclick="resetDilution()">üîÑ Reset</button>
                </div>

                <div id="dilutionObservation" class="observation-box">
                    <h4>üìù Amazing Observation</h4>
                    <p>Even after multiple dilutions, the solution still retains color! This proves particles are incredibly small.</p>
                </div>

                <div class="conclusion-box">
                    <h4>üéØ Mind-Blowing Conclusion</h4>
                    <p><strong>Just 2-3 crystals contain millions of tiny particles!</strong> Each crystal is made up of particles so small that they're beyond our imagination. Even after diluting 5-8 times, we can still see color!</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üß† Knowledge Check</h2>
            
            <div class="quiz-section">
                <div class="quiz-question">üéØ Test Your Understanding</div>
                
                <div id="question1">
                    <p><strong>Question 1:</strong> When salt dissolves in water, why doesn't the water level change?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="answerQuiz(1, 'wrong', this)">Salt completely disappears</div>
                        <div class="quiz-option" onclick="answerQuiz(1, 'correct', this)">Salt particles fit into spaces between water particles</div>
                        <div class="quiz-option" onclick="answerQuiz(1, 'wrong', this)">Water evaporates at the same rate</div>
                        <div class="quiz-option" onclick="answerQuiz(1, 'wrong', this)">Salt becomes invisible gas</div>
                    </div>
                    <div id="feedback1"></div>
                </div>
                
                <div id="question2" style="margin-top: 20px;">
                    <p><strong>Question 2:</strong> What does the potassium permanganate experiment prove about particles?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="answerQuiz(2, 'correct', this)">Particles are extremely small, beyond imagination</div>
                        <div class="quiz-option" onclick="answerQuiz(2, 'wrong', this)">Particles can change color</div>
                        <div class="quiz-option" onclick="answerQuiz(2, 'wrong', this)">Particles multiply when diluted</div>
                        <div class="quiz-option" onclick="answerQuiz(2, 'wrong', this)">Particles dissolve completely</div>
                    </div>
                    <div id="feedback2"></div>
                </div>
                
                <div id="question3" style="margin-top: 20px;">
                    <p><strong>Question 3:</strong> Which theory about matter is correct?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" onclick="answerQuiz(3, 'wrong', this)">Matter is continuous like a block of wood</div>
                        <div class="quiz-option" onclick="answerQuiz(3, 'correct', this)">Matter is made up of particles with spaces between them</div>
                        <div class="quiz-option" onclick="answerQuiz(3, 'wrong', this)">Matter can be both continuous and particulate</div>
                        <div class="quiz-option" onclick="answerQuiz(3, 'wrong', this)">Matter has no definite structure</div>
                    </div>
                    <div id="feedback3"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let experimentStep = 0;
        let dilutionStep = 0;
        
        // Experiment functions
        function startExperiment() {
            experimentStep = 1;
            updateSteps();
            document.getElementById('experimentObservation').innerHTML = `
                <h4>üìù Observation</h4>
                <p><strong>Step 1:</strong> 100 mL beaker filled halfway with water. Water level marked. Ready to add salt!</p>
            `;
            generateBeforeParticles();
        }
        
        function addSalt() {
            if (experimentStep >= 1) {
                experimentStep = 2;
                updateSteps();
                document.getElementById('experimentObservation').innerHTML = `
                    <h4>üìù Observation</h4>
                    <p><strong>Step 2:</strong> Salt added to water. Notice the water level remains the same! Now stir to dissolve.</p>
                `;
            }
        }
        
        function stirSolution() {
            if (experimentStep >= 2) {
                experimentStep = 3;
                updateSteps();
                
                // Animate salt dissolution
                document.getElementById('saltContainer').classList.add('dissolving');
                
                setTimeout(() => {
                    experimentStep = 4;
                    updateSteps();
                    document.getElementById('experimentObservation').innerHTML = `
                        <h4>üìù Amazing Observation</h4>
                        <p><strong>Step 3:</strong> Salt has completely dissolved! But look - the water level hasn't changed at all!</p>
                        <p><strong>ü§î Where did the salt go?</strong> It must have fit into the spaces between water particles!</p>
                    `;
                    
                    document.getElementById('experimentConclusion').style.display = 'block';
                    generateAfterParticles();
                }, 2000);
            }
        }
        
        function resetExperiment() {
            experimentStep = 0;
            updateSteps();
            document.getElementById('saltContainer').classList.remove('dissolving');
            document.getElementById('experimentConclusion').style.display = 'none';
            document.getElementById('experimentObservation').innerHTML = `
                <h4>üìù Observation</h4>
                <p>Click "Start Experiment" to begin the activity!</p>
            `;
            document.getElementById('beforeDissolution').innerHTML = '<h4>Before Dissolution</h4>';
            document.getElementById('afterDissolution').innerHTML = '<h4>After Dissolution</h4>';
        }
        
        function updateSteps() {
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step${i}`);
                if (i <= experimentStep) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (i === experimentStep + 1) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            }
        }
        
        // Particle visualization
        function generateBeforeParticles() {
            const container = document.getElementById('beforeDissolution');
            container.innerHTML = '<h4>Before Dissolution</h4>';
            
            // Water particles - tightly packed
            for (let i = 0; i < 25; i++) {
                const particle = document.createElement('div');
                particle.className = 'water-particles';
                const row = Math.floor(i / 5);
                const col = i % 5;
                particle.style.left = (20 + col * 30) + 'px';
                particle.style.top = (30 + row * 20) + 'px';
                container.appendChild(particle);
            }
            
            // Salt particles - separate group
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = 'salt-particles';
                particle.style.left = (160 + (i % 3) * 10) + 'px';
                particle.style.top = (40 + Math.floor(i / 3) * 10) + 'px';
                container.appendChild(particle);
            }
        }
        
        function generateAfterParticles() {
            const container = document.getElementById('afterDissolution');
            container.innerHTML = '<h4>After Dissolution</h4>';
            
            // Mixed particles - salt fits between water
            for (let i = 0; i < 25; i++) {
                const waterParticle = document.createElement('div');
                waterParticle.className = 'water-particles';
                const row = Math.floor(i / 5);
                const col = i % 5;
                waterParticle.style.left = (20 + col * 30) + 'px';
                waterParticle.style.top = (30 + row * 20) + 'px';
                container.appendChild(waterParticle);
            }
            
            // Salt particles scattered between water particles
            for (let i = 0; i < 8; i++) {
                const saltParticle = document.createElement('div');
                saltParticle.className = 'salt-particles';
                saltParticle.style.left = (30 + Math.random() * 130) + 'px';
                saltParticle.style.top = (40 + Math.random() * 80) + 'px';
                container.appendChild(saltParticle);
            }
        }
        
        // Dilution functions
        function startDilution() {
            dilutionStep = 0;
            const tubes = ['tube1', 'tube2', 'tube3', 'tube4', 'tube5'];
            
            const dilutionProcess = setInterval(() => {
                if (dilutionStep < tubes.length) {
                    // Highlight current tube
                    if (dilutionStep > 0) {
                        document.getElementById(tubes[dilutionStep - 1]).style.border = '3px solid #333';
                    }
                    document.getElementById(tubes[dilutionStep]).style.border = '3px solid #10b981';
                    
                    dilutionStep++;
                    
                    document.getElementById('dilutionObservation').innerHTML = `
                        <h4>üìù Dilution Step ${dilutionStep}</h4>
                        <p>Even after dilution ${dilutionStep}, the solution still shows color! 
                        This proves that particles are incredibly small - millions in just a few crystals!</p>
                    `;
                } else {
                    clearInterval(dilutionProcess);
                    document.getElementById('dilutionObservation').innerHTML = `
                        <h4>üìù Final Result</h4>
                        <p><strong>ü§Ø Amazing!</strong> After 5 dilutions, color is still visible! 
                        This proves particles are so small they're beyond our imagination!</p>
                    `;
                }
            }, 1500);
        }
        
        function resetDilution() {
            dilutionStep = 0;
            const tubes = ['tube1', 'tube2', 'tube3', 'tube4', 'tube5'];
            tubes.forEach(id => {
                document.getElementById(id).style.border = '3px solid #333';
            });
            document.getElementById('dilutionObservation').innerHTML = `
                <h4>üìù Amazing Observation</h4>
                <p>Even after multiple dilutions, the solution still retains color! This proves particles are incredibly small.</p>
            `;
        }
        
        // Quiz functionality
        function answerQuiz(questionNum, answer, element) {
            const options = element.parentElement.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            const feedback = document.getElementById(`feedback${questionNum}`);
            const correctAnswers = {
                1: 'correct', // Salt particles fit in spaces
                2: 'correct', // Particles are extremely small
                3: 'correct'  // Matter is particulate
            };
            
            const isCorrect = answer === correctAnswers[questionNum];
            
            const explanations = {
                1: 'Salt particles are small enough to fit into the empty spaces between water particles, so the total volume doesn\'t change.',
                2: 'The persistence of color after multiple dilutions proves that just a few crystals contain millions of incredibly tiny particles.',
                3: 'Both experiments prove that matter is made up of discrete particles with spaces between them, not continuous like a solid block.'
            };
            
            if (isCorrect) {
                feedback.innerHTML = `<div class="feedback success">‚úÖ Excellent! ${explanations[questionNum]}</div>`;
            } else {
                feedback.innerHTML = `<div class="feedback error">‚ùå Try again! ${explanations[questionNum]}</div>`;
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateSteps();
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electric Flux Interactive Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #fff, #f0f8ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .simulation-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
            grid-column: span 2;
        }

        .side-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 25px;
            backdrop-filter: blur(15px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .canvas-container {
            position: relative;
            border: 3px solid #e0e6ed;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            box-shadow: inset 0 4px 8px rgba(0,0,0,0.1);
        }

        canvas {
            display: block;
            background: linear-gradient(45deg, #f0f8ff, #e6f3ff);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .control-group {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
        }

        .control-group::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 15px;
            padding: 2px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: destination-out;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
        }

        .control-group h4 {
            margin-bottom: 15px;
            color: #2d3748;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .slider-container {
            margin-bottom: 18px;
            position: relative;
        }

        .slider-container label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #4a5568;
            font-size: 1rem;
        }

        input[type="range"] {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: linear-gradient(to right, #667eea, #764ba2);
            outline: none;
            -webkit-appearance: none;
            position: relative;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #fff, #f0f8ff);
            cursor: pointer;
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
            border: 3px solid #667eea;
            transition: all 0.2s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }

        .value-display {
            position: absolute;
            right: 0;
            top: 0;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .flux-display {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }

        .flux-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, rgba(255,255,255,0.1), transparent);
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .flux-display * {
            position: relative;
            z-index: 1;
        }

        .flux-display h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .flux-value {
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .flux-components {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .component-box {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .component-box h4 {
            font-size: 1rem;
            margin-bottom: 8px;
            opacity: 0.9;
        }

        .component-value {
            font-size: 1.4rem;
            font-weight: bold;
        }

        .visual-demos {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .demo-card {
            background: linear-gradient(135deg, #fff, #f8fafc);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            border-color: #667eea;
        }

        .demo-card h4 {
            color: #2d3748;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .demo-card p {
            color: #4a5568;
            font-size: 0.9rem;
        }

        .demo-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .info-tabs {
            display: flex;
            margin-bottom: 25px;
            background: #f8fafc;
            border-radius: 15px;
            padding: 5px;
        }

        .tab-button {
            flex: 1;
            padding: 15px;
            border: none;
            background: transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            position: relative;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .quiz-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 25px;
            backdrop-filter: blur(15px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.2);
            margin-top: 25px;
            grid-column: span 3;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-header h3 {
            font-size: 2rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .quiz-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .question-card {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .question-card.correct {
            border-color: #48bb78;
            background: linear-gradient(135deg, #f0fff4, #c6f6d5);
        }

        .question-card.incorrect {
            border-color: #f56565;
            background: linear-gradient(135deg, #fff5f5, #fed7d7);
        }

        .question-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8fafc;
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #ebf8ff, #bee3f8);
        }

        .option.correct {
            border-color: #48bb78;
            background: linear-gradient(135deg, #f0fff4, #c6f6d5);
        }

        .option.incorrect {
            border-color: #f56565;
            background: linear-gradient(135deg, #fff5f5, #fed7d7);
        }

        .option-letter {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #e2e8f0;
            color: #4a5568;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .option.selected .option-letter {
            background: #667eea;
            color: white;
        }

        .check-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }

        .check-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .explanation {
            background: linear-gradient(135deg, #fff7ed, #fed7aa);
            border: 2px solid #fb923c;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation h4 {
            color: #ea580c;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .score-display {
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .score-display h4 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .score-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .formula-box {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .key-points {
            background: linear-gradient(135deg, #e8f5e8, #c6f6d5);
            border-left: 5px solid #48bb78;
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin: 20px 0;
        }

        .key-points h4 {
            color: #2f855a;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .key-points ul {
            padding-left: 20px;
        }

        .key-points li {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        @media (max-width: 1200px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .simulation-panel,
            .side-panel {
                grid-column: span 1;
            }
            
            .quiz-section {
                grid-column: span 1;
            }
            
            .quiz-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .controls-grid {
                grid-template-columns: 1fr;
            }
            
            .visual-demos {
                grid-template-columns: 1fr;
            }
            
            .flux-components {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }

        .interactive-hints {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 2px solid #fdcb6e;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .interactive-hints h4 {
            color: #b7791f;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mini-canvas {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            background: linear-gradient(45deg, #f0f8ff, #e6f3ff);
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⚡ Electric Flux Interactive Learning Hub</h1>
            <p>Master the concept of electric flux through interactive visualizations and hands-on practice</p>
        </div>

        <div class="main-layout">
            <div class="simulation-panel">
                <h3>🔬 Advanced Interactive Simulation</h3>
                
                <div class="canvas-container">
                    <canvas id="fluxCanvas" width="600" height="450"></canvas>
                </div>

                                    <div class="flux-display">
                    <h3>Electric Flux (Φ)</h3>
                    <div class="flux-value" id="fluxValue">0.00 N⋅m²/C</div>
                    <p>Φ = <span style="text-decoration: overline;">E</span> · Δ<span style="text-decoration: overline;">S</span> = E·ΔS·cos(θ)</p>
                    
                    <div class="flux-components">
                        <div class="component-box">
                            <h4>Field (E)</h4>
                            <div class="component-value" id="fieldComponent">5.0 N/C</div>
                        </div>
                        <div class="component-box">
                            <h4>Area (ΔS)</h4>
                            <div class="component-value" id="areaComponent">2.0 m²</div>
                        </div>
                        <div class="component-box">
                            <h4>cos(θ)</h4>
                            <div class="component-value" id="cosComponent">1.00</div>
                        </div>
                    </div>
                </div>

                <div class="controls-grid">
                    <div class="control-group">
                        <h4>⚡ Electric Field</h4>
                        <div class="slider-container">
                            <label>Magnitude E:</label>
                            <input type="range" id="fieldStrength" min="1" max="10" value="5" step="0.1">
                            <span class="value-display" id="fieldValue">5.0 N/C</span>
                        </div>
                        <div class="slider-container">
                            <label>Field Direction:</label>
                            <input type="range" id="fieldDirection" min="0" max="360" value="270" step="5">
                            <span class="value-display" id="directionValue">270°</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <h4>📐 Surface Properties</h4>
                        <div class="slider-container">
                            <label>Surface Angle θ:</label>
                            <input type="range" id="surfaceAngle" min="0" max="180" value="0" step="5">
                            <span class="value-display" id="angleValue">0°</span>
                        </div>
                        <div class="slider-container">
                            <label>Surface Area ΔS:</label>
                            <input type="range" id="surfaceArea" min="0.5" max="5" value="2" step="0.1">
                            <span class="value-display" id="areaValue">2.0 m²</span>
                        </div>
                    </div>
                </div>

                <div class="visual-demos">
                    <div class="demo-card" onclick="setDemo('parallel')">
                        <h4>🎯 Maximum Flux</h4>
                        <p>Field perpendicular to surface (θ = 0°)</p>
                    </div>
                    <div class="demo-card" onclick="setDemo('perpendicular')">
                        <h4>❌ Zero Flux</h4>
                        <p>Field parallel to surface (θ = 90°)</p>
                    </div>
                    <div class="demo-card" onclick="setDemo('oblique')">
                        <h4>📐 Oblique Angle</h4>
                        <p>Moderate flux at 45° angle</p>
                    </div>
                    <div class="demo-card" onclick="setDemo('negative')">
                        <h4>🔄 Negative Flux</h4>
                        <p>Field opposite to normal (θ = 180°)</p>
                    </div>
                </div>
            </div>

            <div class="side-panel">
                <div class="info-tabs">
                    <button class="tab-button active" onclick="showTab('concept')">Concept</button>
                    <button class="tab-button" onclick="showTab('formula')">Formula</button>
                    <button class="tab-button" onclick="showTab('examples')">Examples</button>
                </div>

                <div id="concept" class="tab-content active">
                    <h3>💡 Electric Flux Concept</h3>
                    <p style="margin-bottom: 15px; line-height: 1.6;">
                        Electric flux measures how much electric field "flows" through a surface. 
                        It's like counting raindrops falling through a window - the angle matters!
                    </p>

                    <div class="key-points">
                        <h4>🔑 Key Concepts:</h4>
                        <ul>
                            <li><strong>Field Lines:</strong> Show electric field direction and strength</li>
                            <li><strong>Surface Vector:</strong> Always points outward from surface</li>
                            <li><strong>Angle Dependence:</strong> cos(θ) determines flux magnitude</li>
                            <li><strong>Sign Convention:</strong> Positive when field exits surface</li>
                        </ul>
                    </div>

                    <div class="interactive-hints">
                        <h4>🎮 Simulation Guide:</h4>
                        <p>• <strong>Blue arrows:</strong> Electric field lines</p>
                        <p>• <strong>Green surface:</strong> Area element ΔS</p>
                        <p>• <strong>Red arrow:</strong> Surface normal vector</p>
                        <p>• <strong>Yellow arc:</strong> Angle θ</p>
                        <p>• <strong>Flux meter:</strong> Real-time calculation</p>
                    </div>
                </div>

                <div id="formula" class="tab-content">
                    <h3>📐 Mathematical Relations</h3>
                    
                    <div class="formula-box">
                        <strong>Φ = <span style="text-decoration: overline;">E</span> · Δ<span style="text-decoration: overline;">S</span> = E·ΔS·cos(θ)</strong>
                    </div>

                    <div style="margin: 20px 0;">
                        <h4>Variables:</h4>
                        <ul style="padding-left: 20px; line-height: 1.8;">
                            <li><strong>Φ</strong> = Electric flux (N⋅m²/C)</li>
                            <li><strong>E</strong> = Electric field magnitude (N/C)</li>
                            <li><strong>ΔS</strong> = Surface area (m²)</li>
                            <li><strong>θ</strong> = Angle between E⃗ and normal</li>
                        </ul>
                    </div>

                    <div class="key-points">
                        <h4>🎯 Special Cases:</h4>
                        <ul>
                            <li><strong>θ = 0°:</strong> Φ = E⋅ΔS (Maximum)</li>
                            <li><strong>θ = 45°:</strong> Φ = E⋅ΔS⋅(√2/2)</li>
                            <li><strong>θ = 90°:</strong> Φ = 0 (Zero)</li>
                            <li><strong>θ = 180°:</strong> Φ = -E⋅ΔS (Minimum)</li>
                        </ul>
                    </div>

                    <div class="formula-box" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);">
                        <strong>Total Flux: Φ = ∮ <span style="text-decoration: overline;">E</span> · d<span style="text-decoration: overline;">S</span></strong>
                    </div>
                </div>

                <div id="examples" class="tab-content">
                    <h3>🌍 Real-World Applications</h3>
                    
                    <div style="margin-bottom: 20px;">
                        <h4>1. 🌊 Water Through a Net</h4>
                        <p style="margin-bottom: 10px;">
                            Imagine water flowing through a fishing net:
                        </p>
                        <ul style="padding-left: 20px;">
                            <li>Flow speed = Electric field strength</li>
                            <li>Net size = Surface area</li>
                            <li>Net orientation = Surface angle</li>
                        </ul>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <h4>2. ☀️ Solar Panel Efficiency</h4>
                        <p>Solar panels work best when perpendicular to sunlight - maximum energy flux!</p>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <h4>3. 🌧️ Rain Through a Window</h4>
                        <p>Tilted windows collect less rain - same principle as electric flux!</p>
                    </div>

                    <div class="key-points">
                        <h4>⚡ Physics Applications:</h4>
                        <ul>
                            <li><strong>Gauss's Law:</strong> Total flux = Q/ε₀</li>
                            <li><strong>Capacitors:</strong> Flux between plates</li>
                            <li><strong>Faraday's Law:</strong> Changing flux → EMF</li>
                            <li><strong>Electric Shielding:</strong> Zero flux inside conductor</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="quiz-section">
            <div class="quiz-header">
                <h3>🧠 Check Your Knowledge</h3>
                <p>Test your understanding of electric flux concepts</p>
                <div class="score-display" id="scoreDisplay" style="display: none;">
                    <h4>Your Score</h4>
                    <div class="score-value" id="scoreValue">0/0</div>
                </div>
            </div>
            
            <div class="quiz-container">
                <div class="question-card" id="question1">
                    <div class="question-number">1</div>
                    <div class="question-text">
                        When the electric field is parallel to a surface, what is the electric flux through that surface?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption(1, 'A')">
                            <div class="option-letter">A</div>
                            <div>Maximum possible value</div>
                        </div>
                        <div class="option" onclick="selectOption(1, 'B')">
                            <div class="option-letter">B</div>
                            <div>Zero</div>
                        </div>
                        <div class="option" onclick="selectOption(1, 'C')">
                            <div class="option-letter">C</div>
                            <div>Depends on field strength</div>
                        </div>
                        <div class="option" onclick="selectOption(1, 'D')">
                            <div class="option-letter">D</div>
                            <div>Negative value</div>
                        </div>
                    </div>
                    <button class="check-button" onclick="checkAnswer(1)" disabled>Check Answer</button>
                    <div class="explanation" id="explanation1">
                        <h4>💡 Explanation:</h4>
                        <p>When the electric field is parallel to a surface, the angle θ = 90°. Since Φ = E⋅ΔS⋅cos(90°) = E⋅ΔS⋅0 = 0, the flux is zero. No field lines cross the surface when they're parallel to it!</p>
                    </div>
                </div>

                <div class="question-card" id="question2">
                    <div class="question-number">2</div>
                    <div class="question-text">
                        If you double both the electric field strength and the surface area, how does the flux change?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption(2, 'A')">
                            <div class="option-letter">A</div>
                            <div>Doubles</div>
                        </div>
                        <div class="option" onclick="selectOption(2, 'B')">
                            <div class="option-letter">B</div>
                            <div>Triples</div>
                        </div>
                        <div class="option" onclick="selectOption(2, 'C')">
                            <div class="option-letter">C</div>
                            <div>Quadruples</div>
                        </div>
                        <div class="option" onclick="selectOption(2, 'D')">
                            <div class="option-letter">D</div>
                            <div>Remains the same</div>
                        </div>
                    </div>
                    <button class="check-button" onclick="checkAnswer(2)" disabled>Check Answer</button>
                    <div class="explanation" id="explanation2">
                        <h4>💡 Explanation:</h4>
                        <p>Since Φ = E⋅ΔS⋅cos(θ), if both E and ΔS are doubled: Φ_new = (2E)⋅(2ΔS)⋅cos(θ) = 4⋅E⋅ΔS⋅cos(θ) = 4Φ_original. The flux quadruples!</p>
                    </div>
                </div>

                <div class="question-card" id="question3">
                    <div class="question-number">3</div>
                    <div class="question-text">
                        What happens to electric flux when the surface is rotated 180° from its original position?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption(3, 'A')">
                            <div class="option-letter">A</div>
                            <div>Flux becomes zero</div>
                        </div>
                        <div class="option" onclick="selectOption(3, 'B')">
                            <div class="option-letter">B</div>
                            <div>Flux doubles</div>
                        </div>
                        <div class="option" onclick="selectOption(3, 'C')">
                            <div class="option-letter">C</div>
                            <div>Flux changes sign (becomes negative)</div>
                        </div>
                        <div class="option" onclick="selectOption(3, 'D')">
                            <div class="option-letter">D</div>
                            <div>Flux remains unchanged</div>
                        </div>
                    </div>
                    <button class="check-button" onclick="checkAnswer(3)" disabled>Check Answer</button>
                    <div class="explanation" id="explanation3">
                        <h4>💡 Explanation:</h4>
                        <p>Rotating the surface 180° changes the angle from θ to θ+180°. Since cos(θ+180°) = -cos(θ), the flux changes sign but keeps the same magnitude. This represents field lines entering vs. exiting the surface.</p>
                    </div>
                </div>

                <div class="question-card" id="question4">
                    <div class="question-number">4</div>
                    <div class="question-text">
                        According to Gauss's Law, if a closed surface encloses a positive charge, the net electric flux is:
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption(4, 'A')">
                            <div class="option-letter">A</div>
                            <div>Zero</div>
                        </div>
                        <div class="option" onclick="selectOption(4, 'B')">
                            <div class="option-letter">B</div>
                            <div>Positive</div>
                        </div>
                        <div class="option" onclick="selectOption(4, 'C')">
                            <div class="option-letter">C</div>
                            <div>Negative</div>
                        </div>
                        <div class="option" onclick="selectOption(4, 'D')">
                            <div class="option-letter">D</div>
                            <div>Depends on surface shape</div>
                        </div>
                    </div>
                    <button class="check-button" onclick="checkAnswer(4)" disabled>Check Answer</button>
                    <div class="explanation" id="explanation4">
                        <h4>💡 Explanation:</h4>
                        <p>Gauss's Law states that Φ = Q/ε₀. For a positive charge Q > 0, the flux is positive. This means more field lines exit the surface than enter it, which makes physical sense for a positive source charge.</p>
                    </div>
                </div>

                <div class="question-card" id="question5">
                    <div class="question-number">5</div>
                    <div class="question-text">
                        A uniform electric field E = 100 N/C passes through a square surface of area 0.5 m² at an angle of 60° to the normal. What is the electric flux?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption(5, 'A')">
                            <div class="option-letter">A</div>
                            <div>50 N⋅m²/C</div>
                        </div>
                        <div class="option" onclick="selectOption(5, 'B')">
                            <div class="option-letter">B</div>
                            <div>25 N⋅m²/C</div>
                        </div>
                        <div class="option" onclick="selectOption(5, 'C')">
                            <div class="option-letter">C</div>
                            <div>43.3 N⋅m²/C</div>
                        </div>
                        <div class="option" onclick="selectOption(5, 'D')">
                            <div class="option-letter">D</div>
                            <div>86.6 N⋅m²/C</div>
                        </div>
                    </div>
                    <button class="check-button" onclick="checkAnswer(5)" disabled>Check Answer</button>
                    <div class="explanation" id="explanation5">
                        <h4>💡 Explanation:</h4>
                        <p>Using Φ = E⋅ΔS⋅cos(θ): Φ = 100 × 0.5 × cos(60°) = 100 × 0.5 × 0.5 = 25 N⋅m²/C. Remember that cos(60°) = 1/2 = 0.5.</p>
                    </div>
                </div>

                <div class="question-card" id="question6">
                    <div class="question-number">6</div>
                    <div class="question-text">
                        Which statement about electric field lines and flux is correct?
                    </div>
                    <div class="options">
                        <div class="option" onclick="selectOption(6, 'A')">
                            <div class="option-letter">A</div>
                            <div>More field lines = higher flux (for same area and angle)</div>
                        </div>
                        <div class="option" onclick="selectOption(6, 'B')">
                            <div class="option-letter">B</div>
                            <div>Field lines can cross each other</div>
                        </div>
                        <div class="option" onclick="selectOption(6, 'C')">
                            <div class="option-letter">C</div>
                            <div>Field lines always form closed loops</div>
                        </div>
                        <div class="option" onclick="selectOption(6, 'D')">
                            <div class="option-letter">D</div>
                            <div>The number of field lines is fixed in nature</div>
                        </div>
                    </div>
                    <button class="check-button" onclick="checkAnswer(6)" disabled>Check Answer</button>
                    <div class="explanation" id="explanation6">
                        <h4>💡 Explanation:</h4>
                        <p>The density of field lines represents field strength. More lines through a surface means stronger field and higher flux. Field lines never cross (would imply multiple field directions at one point) and start/end on charges, not forming closed loops in electrostatics.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Canvas and simulation variables
        const canvas = document.getElementById('fluxCanvas');
        const ctx = canvas.getContext('2d');
        
        // Control elements
        const fieldStrengthSlider = document.getElementById('fieldStrength');
        const fieldDirectionSlider = document.getElementById('fieldDirection');
        const surfaceAngleSlider = document.getElementById('surfaceAngle');
        const surfaceAreaSlider = document.getElementById('surfaceArea');
        
        // Display elements
        const fieldValueDisplay = document.getElementById('fieldValue');
        const directionValueDisplay = document.getElementById('directionValue');
        const angleValueDisplay = document.getElementById('angleValue');
        const areaValueDisplay = document.getElementById('areaValue');
        const fluxValueDisplay = document.getElementById('fluxValue');
        const fieldComponent = document.getElementById('fieldComponent');
        const areaComponent = document.getElementById('areaComponent');
        const cosComponent = document.getElementById('cosComponent');

        // Animation variables
        let animationFrame;
        let time = 0;
        let fieldLineAnimation = 0;

        // Quiz variables
        const quizAnswers = {
            1: 'B', 2: 'C', 3: 'C', 4: 'B', 5: 'B', 6: 'A'
        };
        let userAnswers = {};
        let correctAnswers = 0;
        let totalQuestions = 6;

        // Update simulation and displays
        function updateSimulation() {
            const E = parseFloat(fieldStrengthSlider.value);
            const fieldDir = parseFloat(fieldDirectionSlider.value);
            const surfaceAngle = parseFloat(surfaceAngleSlider.value);
            const area = parseFloat(surfaceAreaSlider.value);
            
            // Update value displays
            fieldValueDisplay.textContent = E.toFixed(1) + ' N/C';
            directionValueDisplay.textContent = fieldDir.toFixed(0) + '°';
            angleValueDisplay.textContent = surfaceAngle.toFixed(0) + '°';
            areaValueDisplay.textContent = area.toFixed(1) + ' m²';
            
            // Calculate flux
            const theta = (surfaceAngle * Math.PI) / 180;
            const cosTheta = Math.cos(theta);
            const flux = E * area * cosTheta;
            
            // Update component displays
            fieldComponent.textContent = E.toFixed(1) + ' N/C';
            areaComponent.textContent = area.toFixed(1) + ' m²';
            cosComponent.textContent = cosTheta.toFixed(2);
            fluxValueDisplay.textContent = flux.toFixed(2) + ' N⋅m²/C';
            
            // Update flux display color based on value
            const fluxDisplay = document.querySelector('.flux-display');
            if (flux > 0) {
                fluxDisplay.style.background = 'linear-gradient(135deg, #00b894, #00a085)';
            } else if (flux < 0) {
                fluxDisplay.style.background = 'linear-gradient(135deg, #e17055, #d63031)';
            } else {
                fluxDisplay.style.background = 'linear-gradient(135deg, #74b9ff, #0984e3)';
            }
            
            drawAdvancedSimulation(E, fieldDir, surfaceAngle, area, flux);
        }

        function drawAdvancedSimulation(fieldStrength, fieldDirection, surfaceAngle, area, flux) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // Enhanced field line drawing with animation
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.setLineDash([]);
            
            const fieldAngle = (fieldDirection * Math.PI) / 180;
            const numLines = Math.ceil(fieldStrength * 3);
            fieldLineAnimation += 0.05;
            
            // Draw field lines with flow animation
            for (let i = 0; i < numLines; i++) {
                const spacing = 25;
                const offset = (i - numLines/2) * spacing;
                
                // Calculate perpendicular offset
                const perpX = Math.cos(fieldAngle + Math.PI/2) * offset;
                const perpY = Math.sin(fieldAngle + Math.PI/2) * offset;
                
                // Animated start and end points
                const flowOffset = (fieldLineAnimation + i * 0.3) % 2;
                const startX = centerX + perpX - Math.cos(fieldAngle) * (250 - flowOffset * 50);
                const startY = centerY + perpY - Math.sin(fieldAngle) * (250 - flowOffset * 50);
                const endX = centerX + perpX + Math.cos(fieldAngle) * (250 - flowOffset * 50);
                const endY = centerY + perpY + Math.sin(fieldAngle) * (250 - flowOffset * 50);
                
                // Gradient for field lines
                const gradient = ctx.createLinearGradient(startX, startY, endX, endY);
                gradient.addColorStop(0, 'rgba(52, 152, 219, 0.3)');
                gradient.addColorStop(0.5, 'rgba(52, 152, 219, 0.8)');
                gradient.addColorStop(1, 'rgba(52, 152, 219, 1)');
                ctx.strokeStyle = gradient;
                
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
                
                // Multiple arrows per line for better visualization
                for (let j = 0; j < 3; j++) {
                    const arrowPos = 0.3 + j * 0.2;
                    const arrowX = startX + (endX - startX) * arrowPos;
                    const arrowY = startY + (endY - startY) * arrowPos;
                    const nextX = startX + (endX - startX) * (arrowPos + 0.1);
                    const nextY = startY + (endY - startY) * (arrowPos + 0.1);
                    
                    drawArrow(ctx, arrowX, arrowY, nextX, nextY, '#2980b9', 12);
                }
            }
            
            // Enhanced surface drawing
            const surfaceSize = area * 40;
            const surfAngle = (surfaceAngle * Math.PI) / 180;
            
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(surfAngle);
            
            // Surface with 3D effect
            const surfaceGradient = ctx.createLinearGradient(-surfaceSize/2, -15, -surfaceSize/2, 15);
            surfaceGradient.addColorStop(0, 'rgba(46, 204, 113, 0.8)');
            surfaceGradient.addColorStop(0.5, 'rgba(46, 204, 113, 0.4)');
            surfaceGradient.addColorStop(1, 'rgba(46, 204, 113, 0.8)');
            
            ctx.fillStyle = surfaceGradient;
            ctx.strokeStyle = '#27ae60';
            ctx.lineWidth = 4;
            ctx.fillRect(-surfaceSize/2, -15, surfaceSize, 30);
            ctx.strokeRect(-surfaceSize/2, -15, surfaceSize, 30);
            
            // Surface edges for 3D effect
            ctx.strokeStyle = '#1e8449';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(-surfaceSize/2, -15);
            ctx.lineTo(-surfaceSize/2 - 8, -23);
            ctx.lineTo(surfaceSize/2 - 8, -23);
            ctx.lineTo(surfaceSize/2, -15);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(surfaceSize/2, -15);
            ctx.lineTo(surfaceSize/2 - 8, -23);
            ctx.lineTo(surfaceSize/2 - 8, 7);
            ctx.lineTo(surfaceSize/2, 15);
            ctx.stroke();
            
            // Enhanced normal vector with pulsing effect
            const normalPulse = 1 + 0.1 * Math.sin(time * 0.1);
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 5 * normalPulse;
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(0, -80);
            ctx.stroke();
            
            drawArrow(ctx, 0, -60, 0, -80, '#c0392b', 20);
            
            // Normal vector label
            ctx.fillStyle = '#e74c3c';
            ctx.font = 'bold 16px Arial';
            ctx.fillText('n̂', 8, -65);
            
            ctx.restore();
            
            // Enhanced angle arc with gradient
            const angleArc = surfaceAngle * Math.PI / 180;
            if (Math.abs(angleArc) > 0.1) {
                const arcGradient = ctx.createRadialGradient(centerX, centerY, 30, centerX, centerY, 60);
                arcGradient.addColorStop(0, '#f39c12');
                arcGradient.addColorStop(1, '#e67e22');
                
                ctx.strokeStyle = arcGradient;
                ctx.lineWidth = 4;
                ctx.beginPath();
                ctx.arc(centerX, centerY, 50, -Math.PI/2, -Math.PI/2 + angleArc, angleArc > 0);
                ctx.stroke();
                
                // Angle label with background
                ctx.fillStyle = 'rgba(243, 156, 18, 0.8)';
                ctx.fillRect(centerX + 35, centerY - 35, 20, 20);
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px Arial';
                ctx.fillText('θ', centerX + 40, centerY - 22);
            }
            
            // Flux intensity visualization
            const fluxIntensity = Math.abs(flux) / (fieldStrength * area);
            if (fluxIntensity > 0.1) {
                const numParticles = Math.floor(fluxIntensity * 20);
                for (let i = 0; i < numParticles; i++) {
                    const particleAngle = fieldAngle + (Math.random() - 0.5) * 0.5;
                    const distance = 100 + Math.random() * 100;
                    const x = centerX + Math.cos(particleAngle) * distance;
                    const y = centerY + Math.sin(particleAngle) * distance;
                    
                    ctx.fillStyle = flux > 0 ? 'rgba(46, 204, 113, 0.6)' : 'rgba(231, 76, 60, 0.6)';
                    ctx.beginPath();
                    ctx.arc(x, y, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            
            // Information panel overlay
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.fillRect(10, 10, 200, 120);
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 2;
            ctx.strokeRect(10, 10, 200, 120);
            
            ctx.fillStyle = '#2d3748';
            ctx.font = 'bold 14px Arial';
            ctx.fillText('Live Parameters:', 20, 30);
            ctx.font = '12px Arial';
            ctx.fillText(`Field: ${fieldStrength.toFixed(1)} N/C`, 20, 50);
            ctx.fillText(`Area: ${area.toFixed(1)} m²`, 20, 70);
            ctx.fillText(`Angle: ${surfaceAngle}°`, 20, 90);
            ctx.fillText(`cos(θ): ${Math.cos(surfaceAngle * Math.PI / 180).toFixed(2)}`, 20, 110);
        }

        function drawArrow(ctx, fromX, fromY, toX, toY, color, size = 15) {
            const headLength = size;
            const angle = Math.atan2(toY - fromY, toX - fromX);
            
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            
            // Arrow head
            ctx.beginPath();
            ctx.moveTo(toX, toY);
            ctx.lineTo(toX - headLength * Math.cos(angle - Math.PI/6), 
                      toY - headLength * Math.sin(angle - Math.PI/6));
            ctx.lineTo(toX - headLength * Math.cos(angle + Math.PI/6), 
                      toY - headLength * Math.sin(angle + Math.PI/6));
            ctx.closePath();
            ctx.fill();
        }

        function animate() {
            time++;
            updateSimulation();
            animationFrame = requestAnimationFrame(animate);
        }

        // Tab functionality
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Enhanced demo presets
        function setDemo(type) {
            switch(type) {
                case 'parallel':
                    surfaceAngleSlider.value = 0;
                    fieldStrengthSlider.value = 8;
                    fieldDirectionSlider.value = 270;
                    surfaceAreaSlider.value = 4;
                    break;
                case 'perpendicular':
                    surfaceAngleSlider.value = 90;
                    fieldStrengthSlider.value = 8;
                    fieldDirectionSlider.value = 270;
                    surfaceAreaSlider.value = 4;
                    break;
                case 'oblique':
                    surfaceAngleSlider.value = 45;
                    fieldStrengthSlider.value = 6;
                    fieldDirectionSlider.value = 270;
                    surfaceAreaSlider.value = 3;
                    break;
                case 'negative':
                    surfaceAngleSlider.value = 180;
                    fieldStrengthSlider.value = 7;
                    fieldDirectionSlider.value = 270;
                    surfaceAreaSlider.value = 3.5;
                    break;
            }
            updateSimulation();
        }

        // Quiz functionality
        function selectOption(questionNum, option) {
            const questionCard = document.getElementById(`question${questionNum}`);
            const options = questionCard.querySelectorAll('.option');
            
            // Remove previous selections
            options.forEach(opt => opt.classList.remove('selected'));
            
            // Select current option
            event.currentTarget.classList.add('selected');
            userAnswers[questionNum] = option;
            
            // Enable check button
            const checkButton = questionCard.querySelector('.check-button');
            checkButton.disabled = false;
        }

        function checkAnswer(questionNum) {
            const questionCard = document.getElementById(`question${questionNum}`);
            const options = questionCard.querySelectorAll('.option');
            const explanation = document.getElementById(`explanation${questionNum}`);
            const checkButton = questionCard.querySelector('.check-button');
            
            const userAnswer = userAnswers[questionNum];
            const correctAnswer = quizAnswers[questionNum];
            
            // Show correct/incorrect styling
            options.forEach(option => {
                const optionLetter = option.querySelector('.option-letter').textContent;
                if (optionLetter === correctAnswer) {
                    option.classList.add('correct');
                } else if (optionLetter === userAnswer && userAnswer !== correctAnswer) {
                    option.classList.add('incorrect');
                }
            });
            
            // Update question card styling
            if (userAnswer === correctAnswer) {
                questionCard.classList.add('correct');
                correctAnswers++;
            } else {
                questionCard.classList.add('incorrect');
            }
            
            // Show explanation
            explanation.classList.add('show');
            
            // Disable check button
            checkButton.disabled = true;
            checkButton.textContent = userAnswer === correctAnswer ? '✓ Correct!' : '✗ Incorrect';
            
            // Update score
            updateScore();
        }

        function updateScore() {
            const answeredQuestions = Object.keys(userAnswers).length;
            const scoreDisplay = document.getElementById('scoreDisplay');
            const scoreValue = document.getElementById('scoreValue');
            
            if (answeredQuestions > 0) {
                scoreDisplay.style.display = 'block';
                scoreValue.textContent = `${correctAnswers}/${answeredQuestions}`;
                
                // Update score color
                const percentage = (correctAnswers / answeredQuestions) * 100;
                if (percentage >= 80) {
                    scoreDisplay.style.background = 'linear-gradient(135deg, #00b894, #00a085)';
                } else if (percentage >= 60) {
                    scoreDisplay.style.background = 'linear-gradient(135deg, #fdcb6e, #e17055)';
                } else {
                    scoreDisplay.style.background = 'linear-gradient(135deg, #e17055, #d63031)';
                }
            }
        }

        // Event listeners
        fieldStrengthSlider.addEventListener('input', updateSimulation);
        fieldDirectionSlider.addEventListener('input', updateSimulation);
        surfaceAngleSlider.addEventListener('input', updateSimulation);
        surfaceAreaSlider.addEventListener('input', updateSimulation);

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === '1') setDemo('parallel');
            if (e.key === '2') setDemo('perpendicular');
            if (e.key === '3') setDemo('oblique');
            if (e.key === '4') setDemo('negative');
        });

        // Initialize
        updateSimulation();
        animate();

        // Add interactive hints
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Change cursor based on location
            if (x > 250 && x < 350 && y > 200 && y < 250) {
                canvas.style.cursor = 'pointer';
                canvas.title = 'This is the surface area element';
            } else if (x > 290 && x < 310 && y > 150 && y < 200) {
                canvas.style.cursor = 'pointer';
                canvas.title = 'This is the normal vector';
            } else {
                canvas.style.cursor = 'default';
                canvas.title = '';
            }
        });
    </script>
</body>
</html>

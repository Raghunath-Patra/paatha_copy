<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harvesting - Interactive Learning</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #b45309 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grainPattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="3" fill="rgba(255,255,255,0.1)"/><circle cx="5" cy="15" r="2" fill="rgba(255,255,255,0.08)"/></pattern></defs><rect width="100" height="100" fill="url(%23grainPattern)"/></svg>');
            opacity: 0.3;
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: 700;
        }

        .header h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            font-weight: 600;
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.95;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.4;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 15px;
            background: #fef3c7;
            border-left: 5px solid #f59e0b;
        }

        .section h2 {
            color: #92400e;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .harvest-simulator {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
        }

        .crop-field {
            width: 100%;
            max-width: 600px;
            height: 300px;
            background: linear-gradient(to bottom, #87ceeb 20%, #90ee90 20%, #ffd700 100%);
            border-radius: 15px;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            border: 3px solid #d97706;
        }

        .crop-grid {
            position: absolute;
            bottom: 50px;
            width: 100%;
            height: 200px;
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 5px;
            padding: 10px;
        }

        .crop-plant {
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 5px;
            position: relative;
        }

        .crop-plant:hover {
            transform: scale(1.1);
            background: rgba(245, 158, 11, 0.3);
        }

        .crop-plant.mature {
            color: #f59e0b;
            animation: sway 3s ease-in-out infinite;
        }

        .crop-plant.harvested {
            opacity: 0.3;
            transform: scale(0.5);
            pointer-events: none;
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-1deg); }
            50% { transform: rotate(1deg); }
        }

        .harvest-tools {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .tool {
            background: #f3f4f6;
            border: 3px solid #d1d5db;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 120px;
        }

        .tool:hover {
            border-color: #f59e0b;
            background: #fef3c7;
        }

        .tool.selected {
            background: #f59e0b;
            color: white;
            border-color: #d97706;
        }

        .tool-icon {
            font-size: 2rem;
            display: block;
            margin-bottom: 5px;
        }

        .threshing-demo {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .threshing-machine {
            width: 400px;
            height: 200px;
            background: #92400e;
            border-radius: 15px;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            border: 3px solid #78350f;
        }

        .grain-input {
            position: absolute;
            top: 20px;
            left: 50px;
            width: 60px;
            height: 40px;
            background: #f59e0b;
            border-radius: 10px;
        }

        .grain-output {
            position: absolute;
            bottom: 20px;
            left: 80px;
            width: 40px;
            height: 30px;
            background: #fbbf24;
            border-radius: 5px;
        }

        .chaff-output {
            position: absolute;
            bottom: 20px;
            right: 80px;
            width: 40px;
            height: 30px;
            background: #a16207;
            border-radius: 5px;
        }

        .grain-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fbbf24;
            border-radius: 50%;
            animation: grain-fall 2s ease-out infinite;
        }

        .chaff-particle {
            position: absolute;
            width: 6px;
            height: 3px;
            background: #a16207;
            border-radius: 3px;
            animation: chaff-blow 3s ease-out infinite;
        }

        @keyframes grain-fall {
            0% { transform: translateY(0px); opacity: 1; }
            100% { transform: translateY(80px); opacity: 0; }
        }

        @keyframes chaff-blow {
            0% { transform: translateY(0px) translateX(0px); opacity: 1; }
            100% { transform: translateY(60px) translateX(40px); opacity: 0; }
        }

        /* ENHANCED WINNOWING STYLES */
        .winnowing-demo {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .winnowing-container {
            position: relative;
            width: 600px;
            height: 400px;
            margin: 20px auto;
            background: linear-gradient(to bottom, #dbeafe 0%, #e0f2fe 50%, #f0f9ff 100%);
            border-radius: 20px;
            border: 3px solid #0891b2;
            overflow: hidden;
        }

        .winnowing-basket {
            position: absolute;
            top: 80px;
            left: 100px;
            width: 120px;
            height: 80px;
            background: linear-gradient(135deg, #92400e, #78350f);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            border: 3px solid #451a03;
            box-shadow: inset 0 4px 8px rgba(0,0,0,0.3);
            z-index: 10;
        }

        .farmer-figure {
            position: absolute;
            top: 40px;
            left: 80px;
            width: 60px;
            height: 120px;
            background: #fbbf24;
            border-radius: 30px 30px 10px 10px;
            z-index: 5;
        }

        .farmer-figure::before {
            content: 'üë®‚Äçüåæ';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
        }

        .grain-collection-area {
            position: absolute;
            bottom: 20px;
            left: 50px;
            width: 150px;
            height: 40px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border-radius: 20px;
            border: 2px solid #d97706;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .chaff-collection-area {
            position: absolute;
            bottom: 20px;
            right: 50px;
            width: 120px;
            height: 30px;
            background: linear-gradient(135deg, #a16207, #78350f);
            border-radius: 15px;
            border: 2px solid #451a03;
        }

        .wind-source {
            position: absolute;
            top: 50px;
            right: 50px;
            width: 80px;
            height: 60px;
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border-radius: 40px;
            border: 2px solid #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            z-index: 5;
        }

        .wind-source::before {
            content: 'üå™Ô∏è';
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .wind-stream {
            position: absolute;
            top: 70px;
            right: 130px;
            width: 200px;
            height: 40px;
            pointer-events: none;
            z-index: 3;
        }

        .wind-line {
            position: absolute;
            height: 3px;
            background: linear-gradient(90deg, #0ea5e9, #06b6d4, transparent);
            border-radius: 2px;
            width: 0px;
            opacity: 0;
        }

        .wind-line.blowing {
            animation: enhanced-wind-blow 2s ease-out infinite;
        }

        .wind-line:nth-child(1) { top: 5px; }
        .wind-line:nth-child(2) { top: 12px; }
        .wind-line:nth-child(3) { top: 19px; }
        .wind-line:nth-child(4) { top: 26px; }
        .wind-line:nth-child(5) { top: 33px; }

        .wind-line:nth-child(1).blowing { animation-delay: 0s; }
        .wind-line:nth-child(2).blowing { animation-delay: 0.2s; }
        .wind-line:nth-child(3).blowing { animation-delay: 0.4s; }
        .wind-line:nth-child(4).blowing { animation-delay: 0.6s; }
        .wind-line:nth-child(5).blowing { animation-delay: 0.8s; }

        @keyframes enhanced-wind-blow {
            0% { 
                width: 0px; 
                opacity: 0; 
                transform: translateX(0px);
            }
            20% { 
                width: 60px; 
                opacity: 1; 
                transform: translateX(0px);
            }
            60% { 
                width: 150px; 
                opacity: 0.8; 
                transform: translateX(-30px);
            }
            100% { 
                width: 200px; 
                opacity: 0; 
                transform: translateX(-60px);
            }
        }

        /* Enhanced Grain Particles */
        .grain-particle-winnow {
            position: absolute;
            width: 3px;
            height: 3px;
            border-radius: 50%;
            z-index: 8;
        }

        .grain-particle-winnow.heavy {
            background: #fbbf24;
            box-shadow: 0 0 2px rgba(251, 191, 36, 0.8);
        }

        .grain-particle-winnow.light {
            background: #a16207;
            width: 4px;
            height: 2px;
            border-radius: 2px;
            box-shadow: 0 0 2px rgba(161, 98, 7, 0.6);
        }

        .pouring-effect {
            position: absolute;
            top: 140px;
            left: 160px;
            width: 3px;
            height: 0px;
            background: linear-gradient(to bottom, #fbbf24, #a16207);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 7;
        }

        .pouring-effect.active {
            height: 100px;
            opacity: 1;
        }

        .wind-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 6;
        }

        .wind-particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(59, 130, 246, 0.3);
            border-radius: 50%;
            opacity: 0;
        }

        /* Status indicators */
        .winnowing-status {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            z-index: 15;
        }

        .collection-counter {
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.9);
            padding: 5px 10px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
            color: #374151;
        }

        .timeline {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 15px;
            background: #fef3c7;
            border-radius: 10px;
            border-left: 4px solid #f59e0b;
        }

        .timeline-icon {
            font-size: 2rem;
            margin-right: 15px;
            background: #f59e0b;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timeline-content {
            flex: 1;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: #f59e0b;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e5e7eb;
        }

        .comparison-table tr:nth-child(even) td {
            background: #f8fafc;
        }

        .festival-section {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            color: white;
            text-align: center;
        }

        .festival-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .festival-card {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .festival-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.3);
        }

        .festival-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .quiz-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .question {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #374151;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .option {
            padding: 15px;
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }

        .option:hover {
            background: #f3f4f6;
            border-color: #f59e0b;
        }

        .option.correct {
            background: #dcfce7;
            border-color: #22c55e;
            color: #166534;
        }

        .option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
        }

        .btn {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .score {
            background: linear-gradient(135deg, #92400e, #78350f);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
        }

        .feedback {
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-weight: 500;
        }

        .feedback.success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #22c55e;
        }

        .feedback.error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }

        @media (max-width: 768px) {
            .harvest-tools {
                flex-direction: column;
                align-items: center;
            }
            
            .festival-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }

            .winnowing-container {
                width: 100%;
                max-width: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 20px;">
                    <svg 
                        viewBox="0 0 512 512" 
                        xmlns="http://www.w3.org/2000/svg"
                        style="height: 48px; width: 48px;"
                        aria-label="Paa·π≠ha AI Logo"
                    >
                        <defs>
                            <linearGradient id="brandGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#dc2626" />
                                <stop offset="33%" stop-color="#dc2626" />
                                <stop offset="66%" stop-color="#fbbf24" />
                                <stop offset="100%" stop-color="#ecfdf5" />
                            </linearGradient>
                        </defs>
                        <g transform="rotate(-45, 256, 256)">
                            <path d="M501.98,206.15c-9.769-23.023-25.998-42.56-46.458-56.389c-10.181-6.873-21.446-12.34-33.536-16.068
                                c-12.009-3.809-24.842-5.798-38.088-5.798c-16.982,0-33.294,3.316-48.197,9.365c-1.246,0.492-2.402,0.986-3.558,1.568
                                c-13.416,5.879-25.675,14.16-36.188,24.017c-3.396,3.227-6.623,6.623-9.858,10.432c-5.709,6.542-11.588,14.079-17.305,21.696
                                c-1.157,1.568-2.402,3.226-3.558,4.804c-3.146,4.302-33.212,48.358-38.509,56.226c-2.652,3.97-5.798,8.442-9.195,13.327
                                c-0.744,1.076-1.568,2.24-2.393,3.396c-5.636,8.031-11.928,16.481-17.726,23.937c-2.895,3.72-5.798,7.197-8.281,10.1
                                c-2.563,2.976-4.884,5.378-6.542,6.954c-7.116,6.704-15.486,12.171-24.672,15.899c-9.194,3.728-19.214,5.798-29.816,5.798
                                c-7.286,0-14.322-0.996-20.944-2.815c-3.396-0.913-6.712-2.07-9.939-3.477c-14.248-5.968-26.419-16.068-34.95-28.74
                                c-4.302-6.372-7.699-13.327-10.019-20.783c-2.233-7.456-3.558-15.316-3.558-23.597c0-11.014,2.24-21.365,6.21-30.892
                                c6.049-14.24,16.149-26.329,28.821-34.942c6.372-4.31,13.326-7.618,20.782-9.939c7.448-2.321,15.316-3.638,23.597-3.638
                                c10.602,0.08,20.622,2.07,29.816,5.79c9.187,3.808,17.556,9.194,24.672,15.898c1.658,1.577,3.979,4.059,6.542,6.962
                                c4.472,5.216,9.769,11.92,15.074,18.964c2.07,2.814,4.14,5.628,6.21,8.523c7.949-11.588,21.858-31.959,29.144-42.48
                                c-1.237-1.658-2.482-3.307-3.72-4.965c-3.316-4.23-6.631-8.281-9.938-12.009c-3.316-3.809-6.462-7.205-9.858-10.432
                                c-11.426-10.772-24.922-19.545-39.746-25.586c-14.904-6.049-31.222-9.365-48.196-9.365c-17.637,0-34.53,3.566-49.927,10.108
                                c-23.022,9.688-42.487,25.918-56.316,46.369c-6.873,10.19-12.332,21.527-16.141,33.536C1.989,229.997,0,242.75,0,256.004
                                c0,17.637,3.558,34.53,10.02,49.846c9.768,23.104,25.998,42.569,46.369,56.397c10.27,6.874,21.535,12.332,33.624,16.141
                                c12.008,3.728,24.842,5.717,38.088,5.717c16.974,0,33.293-3.316,48.196-9.356c14.824-6.049,28.239-14.824,39.666-25.506l0.08-0.081
                                c3.397-3.146,6.543-6.631,9.858-10.44c5.709-6.542,11.588-14.071,17.305-21.689c1.157-1.577,2.402-3.154,3.558-4.723
                                c3.146-4.391,44.307-64.758,47.696-69.642c0.752-1.076,1.577-2.232,2.401-3.396c5.637-7.95,11.928-16.48,17.726-23.928
                                c2.895-3.728,5.798-7.206,8.281-10.101c2.564-2.984,4.885-5.386,6.542-6.962c7.116-6.704,15.486-12.09,24.673-15.898
                                c2.24-0.906,4.472-1.649,6.792-2.402c7.286-2.15,14.984-3.307,23.023-3.388c11.013,0.08,21.446,2.232,30.882,6.291
                                c14.241,5.96,26.42,16.06,34.943,28.732c4.31,6.38,7.706,13.335,10.019,20.782c2.321,7.456,3.566,15.324,3.566,23.605
                                c0,11.014-2.24,21.446-6.21,30.883c-6.049,14.24-16.149,26.419-28.821,34.942c-6.372,4.31-13.326,7.707-20.782,9.939
                                c-7.367,2.321-15.316,3.648-23.597,3.648c-10.602,0-20.622-2.07-29.816-5.798c-9.187-3.728-17.557-9.195-24.673-15.899
                                c-1.658-1.577-3.979-4.059-6.542-6.954c-4.472-5.135-9.776-11.928-15.074-18.963c-2.15-2.815-4.221-5.718-6.291-8.613
                                c-0.663,0.994-1.326,1.99-2.07,3.065c-13.666,20.039-22.279,32.71-26.994,39.576c1.237,1.658,2.483,3.235,3.72,4.893
                                c3.316,4.221,6.631,8.281,9.938,12c3.234,3.808,6.462,7.294,9.858,10.44c11.426,10.763,24.923,19.538,39.746,25.587
                                c14.904,6.04,31.215,9.356,48.197,9.356c17.636,0,34.53-3.558,49.846-10.019c23.103-9.769,42.56-25.999,56.396-46.458
                                c6.866-10.181,12.421-21.446,16.141-33.536C510.01,282.083,512,269.25,512,256.004C512,238.367,508.442,221.474,501.98,206.15z"
                                fill="url(#brandGradient)"
                                opacity="0.9">
                            </path>
                            <circle cx="385" cy="256" r="48" fill="#dc2626" opacity="0.8"></circle>
                        </g>
                    </svg>
                    <div>
                        <h1 style="margin: 0; font-size: 2.5em; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">Paa·π≠ha AI</h1>
                        <p style="margin: 0; font-size: 1em; opacity: 0.9;">Interactive Agriculture Learning</p>
                    </div>
                </div>
                <h2 style="font-size: 1.8em; margin-bottom: 10px;">‚úÇÔ∏è 1.8 Harvesting</h2>
                <p style="font-size: 1.2em; opacity: 0.9;">Experience the joy of harvest season - from cutting crops to celebrating festivals!</p>
            </div>
        </div>

        <div class="content">
            <!-- Crop Maturity Timeline -->
            <div class="section">
                <h2>üìÖ Crop Maturity Timeline</h2>
                <p>Understand when crops are ready for harvesting!</p>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-icon">üå±</div>
                        <div class="timeline-content">
                            <h4>Month 1: Germination & Early Growth</h4>
                            <p>Seeds sprout and young plants establish roots</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon">üåø</div>
                        <div class="timeline-content">
                            <h4>Month 2: Vegetative Growth</h4>
                            <p>Plants grow taller, develop more leaves and branches</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon">üåæ</div>
                        <div class="timeline-content">
                            <h4>Month 3: Flowering & Grain Formation</h4>
                            <p>Plants flower and begin forming grain heads</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon">‚úÇÔ∏è</div>
                        <div class="timeline-content">
                            <h4>Month 4: Harvest Time!</h4>
                            <p>Crops turn golden and are ready for harvesting</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Interactive Harvesting Game -->
            <div class="section">
                <h2>üéÆ Interactive Harvesting Simulator</h2>
                <p>Help the farmer harvest the mature crops!</p>
                
                <div class="harvest-simulator">
                    <h3>üåæ Golden Harvest Field</h3>
                    <p>Click on mature (golden) crops to harvest them with your selected tool!</p>
                    
                    <div class="crop-field">
                        <div class="crop-grid" id="crop-grid">
                            <!-- Crops will be generated dynamically -->
                        </div>
                    </div>

                    <div class="harvest-tools">
                        <div class="tool" data-tool="sickle" onclick="selectTool('sickle')">
                            <div class="tool-icon">üî™</div>
                            <div>Sickle</div>
                            <small>Manual, slow</small>
                        </div>
                        
                        <div class="tool" data-tool="harvester" onclick="selectTool('harvester')">
                            <div class="tool-icon">üöú</div>
                            <div>Harvester</div>
                            <small>Machine, fast</small>
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <button class="btn" onclick="generateCrops()">üå± New Crop Field</button>
                        <button class="btn" onclick="autoHarvest()">ü§ñ Auto-Harvest</button>
                        <button class="btn" onclick="resetHarvest()">üîÑ Reset</button>
                    </div>

                    <div id="harvest-score" class="score">Crops Harvested: 0 | Tool: None Selected</div>
                    <div id="harvest-feedback" class="feedback" style="display: none;"></div>
                </div>
            </div>

            <!-- Threshing Process Demo -->
            <div class="section">
                <h2>ü•Ñ Threshing Process</h2>
                <p>Learn how grain is separated from chaff after harvesting!</p>
                
                <div class="threshing-demo">
                    <h3>‚öôÔ∏è Combine Harvester - Threshing Machine</h3>
                    <p>See how the machine separates grain from chaff!</p>
                    
                    <div class="threshing-machine" id="threshing-machine">
                        <div class="grain-input"></div>
                        <div class="grain-output"></div>
                        <div class="chaff-output"></div>
                    </div>

                    <div style="margin: 20px 0;">
                        <button class="btn" onclick="startThreshing()">‚öôÔ∏è Start Threshing</button>
                        <button class="btn" onclick="stopThreshing()">‚èπÔ∏è Stop Machine</button>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="background: #fef3c7; padding: 15px; border-radius: 10px; text-align: center;">
                            <h4>üì• Input: Harvested Crop</h4>
                            <p>Wheat stalks with grain and chaff mixed together</p>
                        </div>
                        <div style="background: #fbbf24; padding: 15px; border-radius: 10px; text-align: center; color: white;">
                            <h4>üåæ Output: Clean Grain</h4>
                            <p>Pure wheat grains ready for storage</p>
                        </div>
                        <div style="background: #a16207; padding: 15px; border-radius: 10px; text-align: center; color: white;">
                            <h4>üçÉ Waste: Chaff</h4>
                            <p>Lightweight husks blown away</p>
                        </div>
                    </div>

                    <div id="threshing-feedback" class="feedback" style="display: none;"></div>
                </div>
            </div>

            <!-- ENHANCED Winnowing Demo -->
            <div class="section">
                <h2>üå¨Ô∏è Enhanced Winnowing Process</h2>
                <p>Watch the traditional method used by farmers to separate grain from chaff using wind!</p>
                
                <div class="winnowing-demo">
                    <h3>üß∫ Advanced Winnowing Simulation</h3>
                    <p>Experience realistic grain separation with improved physics and visual effects!</p>
                    
                    <div class="winnowing-container" id="winnowing-container">
                        <div class="winnowing-status" id="winnowing-status">Ready to winnow</div>
                        
                        <div class="farmer-figure"></div>
                        <div class="winnowing-basket"></div>
                        <div class="wind-source"></div>
                        
                        <div class="wind-stream" id="wind-stream">
                            <div class="wind-line"></div>
                            <div class="wind-line"></div>
                            <div class="wind-line"></div>
                            <div class="wind-line"></div>
                            <div class="wind-line"></div>
                        </div>
                        
                        <div class="pouring-effect" id="pouring-effect"></div>
                        <div class="wind-particles" id="wind-particles"></div>
                        
                        <div class="grain-collection-area">
                            <div class="collection-counter" id="grain-counter">Grain: 0</div>
                        </div>
                        
                        <div class="chaff-collection-area">
                            <div class="collection-counter" id="chaff-counter">Chaff: 0</div>
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <button class="btn" onclick="startEnhancedWinnowing()">üå¨Ô∏è Start Winnowing</button>
                        <button class="btn" onclick="stopEnhancedWinnowing()">‚èπÔ∏è Stop Wind</button>
                        <button class="btn" onclick="resetWinnowing()">üîÑ Reset</button>
                    </div>

                    <div style="background: #f0f9ff; padding: 20px; border-radius: 10px; margin-top: 20px; border: 2px solid #0891b2;">
                        <h4>üéØ Enhanced Features:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                            <div>
                                <h5>‚öñÔ∏è Realistic Physics</h5>
                                <ul style="margin-left: 15px; line-height: 1.6;">
                                    <li>Heavy grains fall straight down</li>
                                    <li>Light chaff gets blown away</li>
                                    <li>Wind affects particle trajectories</li>
                                </ul>
                            </div>
                            <div>
                                <h5>üé® Visual Effects</h5>
                                <ul style="margin-left: 15px; line-height: 1.6;">
                                    <li>Animated wind streams</li>
                                    <li>Particle separation effects</li>
                                    <li>Real-time counters</li>
                                </ul>
                            </div>
                            <div>
                                <h5>üìä Educational Value</h5>
                                <ul style="margin-left: 15px; line-height: 1.6;">
                                    <li>Shows density differences</li>
                                    <li>Demonstrates air resistance</li>
                                    <li>Traditional farming technique</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="winnowing-feedback" class="feedback" style="display: none;"></div>
                </div>
            </div>

            <!-- Harvesting Methods Comparison -->
            <div class="section">
                <h2>‚öñÔ∏è Manual vs Machine Harvesting</h2>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>Manual (Sickle)</th>
                            <th>Machine (Harvester)</th>
                            <th>Combine Harvester</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Speed</strong></td>
                            <td>Slow (1 person/day)</td>
                            <td>Fast (large areas)</td>
                            <td>Very fast + threshing</td>
                        </tr>
                        <tr>
                            <td><strong>Labor Required</strong></td>
                            <td>High</td>
                            <td>Medium</td>
                            <td>Low</td>
                        </tr>
                        <tr>
                            <td><strong>Cost</strong></td>
                            <td>Low initial cost</td>
                            <td>High initial cost</td>
                            <td>Very high cost</td>
                        </tr>
                        <tr>
                            <td><strong>Precision</strong></td>
                            <td>High (selective)</td>
                            <td>Good</td>
                            <td>Good</td>
                        </tr>
                        <tr>
                            <td><strong>Additional Process</strong></td>
                            <td>Needs separate threshing</td>
                            <td>Needs separate threshing</td>
                            <td>Threshing included</td>
                        </tr>
                        <tr>
                            <td><strong>Best For</strong></td>
                            <td>Small farms</td>
                            <td>Medium farms</td>
                            <td>Large commercial farms</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Harvest Festivals -->
            <div class="section">
                <h2>üéâ Harvest Festivals of India</h2>
                <p>Celebrate the joy of harvest with traditional festivals across India!</p>
                
                <div class="festival-section">
                    <h3>üéä Celebrating the Golden Harvest</h3>
                    <p>After months of hard work, farmers celebrate with festivals that bring communities together!</p>
                    
                    <div class="festival-grid">
                        <div class="festival-card" onclick="showFestivalInfo('pongal')">
                            <div class="festival-icon">üåæ</div>
                            <h4>Pongal</h4>
                            <p>Tamil Nadu</p>
                        </div>
                        
                        <div class="festival-card" onclick="showFestivalInfo('baisakhi')">
                            <div class="festival-icon">üé≠</div>
                            <h4>Baisakhi</h4>
                            <p>Punjab</p>
                        </div>
                        
                        <div class="festival-card" onclick="showFestivalInfo('bihu')">
                            <div class="festival-icon">üéµ</div>
                            <h4>Bihu</h4>
                            <p>Assam</p>
                        </div>
                        
                        <div class="festival-card" onclick="showFestivalInfo('holi')">
                            <div class="festival-icon">üåà</div>
                            <h4>Holi</h4>
                            <p>North India</p>
                        </div>
                        
                        <div class="festival-card" onclick="showFestivalInfo('diwali')">
                            <div class="festival-icon">ü™î</div>
                            <h4>Diwali</h4>
                            <p>All India</p>
                        </div>
                        
                        <div class="festival-card" onclick="showFestivalInfo('nabanya')">
                            <div class="festival-icon">üçö</div>
                            <h4>Nabanya</h4>
                            <p>Bengal</p>
                        </div>
                    </div>

                    <div id="festival-info" style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.2); border-radius: 10px; display: none;">
                        <!-- Festival information will be displayed here -->
                    </div>
                </div>
            </div>

            <!-- Knowledge Quiz -->
            <div class="section">
                <h2>üß† Harvesting Knowledge Quiz</h2>
                <div class="quiz-container">
                    <div id="quiz-question" class="question">Loading question...</div>
                    <div id="quiz-options" class="options"></div>
                    <div id="quiz-feedback" class="feedback" style="display: none;"></div>
                    <button class="btn" onclick="nextQuestion()">Next Question</button>
                    <div id="quiz-score" class="score">Score: 0/0</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz Questions
        const quizQuestions = [
            {
                question: "How long does it typically take for a cereal crop to mature?",
                options: ["1-2 months", "3-4 months", "6-8 months", "1 year"],
                correct: 1
            },
            {
                question: "What is the process of separating grain from chaff called?",
                options: ["Harvesting", "Threshing", "Winnowing", "Sowing"],
                correct: 1
            },
            {
                question: "Which tool is traditionally used for manual harvesting?",
                options: ["Khurpi", "Sickle", "Plough", "Hoe"],
                correct: 1
            },
            {
                question: "What does a combine harvester do?",
                options: ["Only harvesting", "Only threshing", "Both harvesting and threshing", "Only winnowing"],
                correct: 2
            },
            {
                question: "Winnowing is done by farmers with:",
                options: ["Large machines", "Small land holdings", "Chemical treatments", "Water irrigation"],
                correct: 1
            },
            {
                question: "Which is a harvest festival celebrated in Punjab?",
                options: ["Pongal", "Baisakhi", "Bihu", "Nabanya"],
                correct: 1
            }
        ];

        // Festival Information
        const festivalInfo = {
            pongal: {
                name: "Pongal",
                region: "Tamil Nadu",
                description: "A four-day harvest festival celebrating the rice harvest. 'Pongal' means 'overflow' symbolizing abundance and prosperity.",
                traditions: "Cooking rice with milk and jaggery, decorating homes with kolam, thanking cattle"
            },
            baisakhi: {
                name: "Baisakhi", 
                region: "Punjab",
                description: "Celebrates the wheat harvest in Punjab. Also marks the Sikh New Year and founding of Khalsa.",
                traditions: "Bhangra and Gidda dances, community feasts, visiting gurudwaras"
            },
            bihu: {
                name: "Bihu",
                region: "Assam", 
                description: "Three different Bihus mark different agricultural seasons. Rongali Bihu celebrates spring harvest.",
                traditions: "Traditional Bihu dance, folk songs, preparing pitha (rice cakes)"
            },
            holi: {
                name: "Holi",
                region: "North India",
                description: "Festival of colors celebrating spring harvest and victory of good over evil.",
                traditions: "Playing with colors, preparing gujiya, bonfires on Holika Dahan"
            },
            diwali: {
                name: "Diwali",
                region: "All India", 
                description: "Festival of lights often coinciding with post-harvest celebrations across India.",
                traditions: "Lighting diyas, rangoli, sharing sweets, worship of Lakshmi"
            },
            nabanya: {
                name: "Nabanya",
                region: "Bengal",
                description: "Celebrates the new rice harvest in Bengal. 'Nabanna' means new rice.",
                traditions: "Cooking new rice, cultural programs, folk music and dance"
            }
        };

        // Global Variables
        let currentQuizIndex = 0;
        let quizScore = 0;
        let quizAnswered = false;
        let selectedTool = null;
        let cropsHarvested = 0;
        let totalMatureCrops = 0;
        let threshingActive = false;
        let winnowingActive = false;
        let grainCount = 0;
        let chaffCount = 0;
        let particleIntervals = [];

        // Crop Generation
        function generateCrops() {
            const grid = document.getElementById('crop-grid');
            grid.innerHTML = '';
            cropsHarvested = 0;
            totalMatureCrops = 0;

            // Create 32 crop plants (8x4 grid)
            for (let i = 0; i < 32; i++) {
                const plant = document.createElement('div');
                plant.className = 'crop-plant';
                
                // 60% chance of mature crop, 40% chance of immature
                if (Math.random() < 0.6) {
                    plant.classList.add('mature');
                    plant.textContent = 'üåæ';
                    plant.onclick = () => harvestCrop(plant);
                    totalMatureCrops++;
                } else {
                    plant.textContent = 'üå±';
                    plant.onclick = () => clickImmatureCrop();
                }
                
                grid.appendChild(plant);
            }
            
            updateHarvestScore();
        }

        function harvestCrop(plant) {
            if (!selectedTool) {
                showHarvestFeedback('Please select a harvesting tool first!', 'error');
                return;
            }

            if (!plant.classList.contains('harvested')) {
                plant.classList.add('harvested');
                plant.textContent = '‚úÇÔ∏è';
                cropsHarvested++;
                
                const toolMessages = {
                    sickle: 'Crop cut with sickle! üî™',
                    harvester: 'Crop harvested by machine! üöú'
                };
                
                showHarvestFeedback(toolMessages[selectedTool], 'success');
                updateHarvestScore();
                
                // Check if all crops harvested
                if (cropsHarvested === totalMatureCrops && totalMatureCrops > 0) {
                    setTimeout(() => {
                        showHarvestFeedback('üéâ Harvest complete! Time to celebrate!', 'success');
                    }, 500);
                }
            }
        }

        function clickImmatureCrop() {
            showHarvestFeedback('‚ö†Ô∏è This crop is not mature yet! Wait for it to turn golden.', 'error');
        }

        function selectTool(tool) {
            // Remove previous selections
            document.querySelectorAll('.tool').forEach(t => t.classList.remove('selected'));
            
            // Select new tool
            document.querySelector(`[data-tool="${tool}"]`).classList.add('selected');
            selectedTool = tool;
            
            const toolMessages = {
                sickle: 'Sickle selected - manual harvesting!',
                harvester: 'Harvester selected - machine harvesting!'
            };
            
            showHarvestFeedback(toolMessages[tool], 'success');
            updateHarvestScore();
        }

        function autoHarvest() {
            if (!selectedTool) {
                showHarvestFeedback('Please select a tool first!', 'error');
                return;
            }

            const matureCrops = document.querySelectorAll('.crop-plant.mature:not(.harvested)');
            const delay = selectedTool === 'sickle' ? 300 : 100;
            
            matureCrops.forEach((crop, index) => {
                setTimeout(() => {
                    harvestCrop(crop);
                }, index * delay);
            });
        }

        function resetHarvest() {
            selectedTool = null;
            cropsHarvested = 0;
            totalMatureCrops = 0;
            document.querySelectorAll('.tool').forEach(t => t.classList.remove('selected'));
            document.getElementById('crop-grid').innerHTML = '';
            document.getElementById('harvest-feedback').style.display = 'none';
            updateHarvestScore();
        }

        function updateHarvestScore() {
            const toolText = selectedTool ? selectedTool.charAt(0).toUpperCase() + selectedTool.slice(1) : 'None Selected';
            document.getElementById('harvest-score').textContent = 
                `Crops Harvested: ${cropsHarvested}/${totalMatureCrops} | Tool: ${toolText}`;
        }

        function showHarvestFeedback(message, type) {
            const feedback = document.getElementById('harvest-feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
            feedback.style.display = 'block';
            
            setTimeout(() => {
                feedback.style.display = 'none';
            }, 3000);
        }

        // Threshing Functions
        function startThreshing() {
            threshingActive = true;
            const machine = document.getElementById('threshing-machine');
            
            // Create grain particles
            const grainInterval = setInterval(() => {
                if (!threshingActive) {
                    clearInterval(grainInterval);
                    return;
                }
                
                const particle = document.createElement('div');
                particle.className = 'grain-particle';
                particle.style.left = '100px';
                particle.style.top = '80px';
                machine.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 2000);
            }, 200);

            // Create chaff particles
            const chaffInterval = setInterval(() => {
                if (!threshingActive) {
                    clearInterval(chaffInterval);
                    return;
                }
                
                const particle = document.createElement('div');
                particle.className = 'chaff-particle';
                particle.style.left = '320px';
                particle.style.top = '80px';
                machine.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 3000);
            }, 300);

            showThreshingFeedback('‚öôÔ∏è Threshing machine running! Separating grain from chaff.', 'success');
        }

        function stopThreshing() {
            threshingActive = false;
            showThreshingFeedback('‚èπÔ∏è Threshing stopped. Grain collection complete!', 'success');
        }

        function showThreshingFeedback(message, type) {
            const feedback = document.getElementById('threshing-feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
            feedback.style.display = 'block';
        }

        // ENHANCED Winnowing Functions
        function startEnhancedWinnowing() {
            winnowingActive = true;
            grainCount = 0;
            chaffCount = 0;
            
            const windStream = document.getElementById('wind-stream');
            const windLines = windStream.querySelectorAll('.wind-line');
            const pouringEffect = document.getElementById('pouring-effect');
            const status = document.getElementById('winnowing-status');
            
            // Update status and start pouring effect
            status.textContent = 'Winnowing in progress...';
            pouringEffect.classList.add('active');
            
            // Start wind animation
            windLines.forEach(line => {
                line.classList.add('blowing');
            });
            
            // Create enhanced particle effects
            createEnhancedParticles();
            createWindParticles();
            
            showWinnowingFeedback('üå¨Ô∏è Enhanced winnowing started! Watch the grain separate!', 'success');
        }

        function stopEnhancedWinnowing() {
            winnowingActive = false;
            
            const windStream = document.getElementById('wind-stream');
            const windLines = windStream.querySelectorAll('.wind-line');
            const pouringEffect = document.getElementById('pouring-effect');
            const status = document.getElementById('winnowing-status');
            
            // Stop all animations
            windLines.forEach(line => {
                line.classList.remove('blowing');
            });
            pouringEffect.classList.remove('active');
            
            // Clear intervals
            particleIntervals.forEach(interval => clearInterval(interval));
            particleIntervals = [];
            
            // Update status
            status.textContent = 'Winnowing complete!';
            
            showWinnowingFeedback(`‚èπÔ∏è Winnowing stopped! Collected ${grainCount} grains and ${chaffCount} chaff pieces.`, 'success');
        }

        function resetWinnowing() {
            winnowingActive = false;
            grainCount = 0;
            chaffCount = 0;
            
            // Clear all intervals
            particleIntervals.forEach(interval => clearInterval(interval));
            particleIntervals = [];
            
            // Reset UI elements
            const windStream = document.getElementById('wind-stream');
            const windLines = windStream.querySelectorAll('.wind-line');
            const pouringEffect = document.getElementById('pouring-effect');
            const status = document.getElementById('winnowing-status');
            const container = document.getElementById('winnowing-container');
            
            windLines.forEach(line => line.classList.remove('blowing'));
            pouringEffect.classList.remove('active');
            status.textContent = 'Ready to winnow';
            
            // Remove all particles
            container.querySelectorAll('.grain-particle-winnow, .wind-particle').forEach(particle => {
                particle.remove();
            });
            
            // Reset counters
            document.getElementById('grain-counter').textContent = 'Grain: 0';
            document.getElementById('chaff-counter').textContent = 'Chaff: 0';
            
            document.getElementById('winnowing-feedback').style.display = 'none';
        }

        function createEnhancedParticles() {
            if (!winnowingActive) return;
            
            const container = document.getElementById('winnowing-container');
            const particleCount = 3;
            
            // Create grain and chaff particles
            for (let i = 0; i < particleCount; i++) {
                setTimeout(() => {
                    if (!winnowingActive) return;
                    
                    // 60% chance for grain, 40% for chaff
                    const isGrain = Math.random() < 0.6;
                    const particle = document.createElement('div');
                    particle.className = `grain-particle-winnow ${isGrain ? 'heavy' : 'light'}`;
                    
                    // Starting position (from basket)
                    const startX = 160 + (Math.random() - 0.5) * 20;
                    const startY = 140;
                    
                    particle.style.left = startX + 'px';
                    particle.style.top = startY + 'px';
                    
                    container.appendChild(particle);
                    
                    // Animate particle with realistic physics
                    animateParticle(particle, isGrain, startX, startY);
                    
                }, i * 150);
            }
            
            // Continue creating particles
            const interval = setTimeout(() => {
                createEnhancedParticles();
            }, 800);
            
            particleIntervals.push(interval);
        }

        function animateParticle(particle, isGrain, startX, startY) {
            let x = startX;
            let y = startY;
            let vx = isGrain ? (Math.random() - 0.5) * 2 : 3 + Math.random() * 4; // Wind effect on horizontal velocity
            let vy = 2; // Initial downward velocity
            let gravity = isGrain ? 0.3 : 0.1; // Different gravity for grain vs chaff
            let airResistance = isGrain ? 0.98 : 0.92; // Different air resistance
            
            const animationLoop = () => {
                if (!winnowingActive || !particle.parentNode) return;
                
                // Apply physics
                vy += gravity;
                vx *= airResistance;
                
                x += vx;
                y += vy;
                
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                // Check collection areas
                if (y > 320) { // Bottom of container
                    if (isGrain && x > 50 && x < 200) {
                        // Grain collected
                        grainCount++;
                        document.getElementById('grain-counter').textContent = `Grain: ${grainCount}`;
                        particle.remove();
                        return;
                    } else if (!isGrain && x > 420 && x < 540) {
                        // Chaff collected
                        chaffCount++;
                        document.getElementById('chaff-counter').textContent = `Chaff: ${chaffCount}`;
                        particle.remove();
                        return;
                    }
                }
                
                // Remove particle if it goes off screen
                if (x > 600 || y > 400) {
                    particle.remove();
                    return;
                }
                
                requestAnimationFrame(animationLoop);
            };
            
            requestAnimationFrame(animationLoop);
        }

        function createWindParticles() {
            if (!winnowingActive) return;
            
            const container = document.getElementById('wind-particles');
            
            // Create wind effect particles
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    if (!winnowingActive) return;
                    
                    const particle = document.createElement('div');
                    particle.className = 'wind-particle';
                    particle.style.left = '420px';
                    particle.style.top = (60 + Math.random() * 40) + 'px';
                    particle.style.opacity = '0.6';
                    
                    container.appendChild(particle);
                    
                    // Animate wind particle
                    let x = 420;
                    let opacity = 0.6;
                    
                    const windAnimLoop = () => {
                        if (!winnowingActive || !particle.parentNode) {
                            particle.remove();
                            return;
                        }
                        
                        x -= 4;
                        opacity -= 0.02;
                        
                        particle.style.left = x + 'px';
                        particle.style.opacity = opacity;
                        
                        if (x < 100 || opacity <= 0) {
                            particle.remove();
                            return;
                        }
                        
                        requestAnimationFrame(windAnimLoop);
                    };
                    
                    requestAnimationFrame(windAnimLoop);
                    
                }, i * 200);
            }
            
            // Continue creating wind particles
            const interval = setTimeout(() => {
                createWindParticles();
            }, 1500);
            
            particleIntervals.push(interval);
        }

        function showWinnowingFeedback(message, type) {
            const feedback = document.getElementById('winnowing-feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
            feedback.style.display = 'block';
        }

        // Festival Functions
        function showFestivalInfo(festival) {
            const info = festivalInfo[festival];
            const infoDiv = document.getElementById('festival-info');
            
            infoDiv.innerHTML = `
                <h4>üéä ${info.name} - ${info.region}</h4>
                <p><strong>About:</strong> ${info.description}</p>
                <p><strong>Traditions:</strong> ${info.traditions}</p>
            `;
            
            infoDiv.style.display = 'block';
        }

        // Quiz Functions
        function loadQuestion() {
            if (currentQuizIndex >= quizQuestions.length) {
                document.getElementById('quiz-question').textContent = `Quiz Complete! Final Score: ${quizScore}/${quizQuestions.length}`;
                document.getElementById('quiz-options').innerHTML = '<p style="text-align: center; font-size: 1.2rem; color: #92400e;">üéâ Wonderful! You\'ve mastered harvesting techniques!</p>';
                return;
            }

            const question = quizQuestions[currentQuizIndex];
            document.getElementById('quiz-question').textContent = question.question;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(optionElement);
            });

            document.getElementById('quiz-feedback').style.display = 'none';
            quizAnswered = false;
            updateQuizScore();
        }

        function selectAnswer(selectedIndex) {
            if (quizAnswered) return;

            const question = quizQuestions[currentQuizIndex];
            const options = document.querySelectorAll('#quiz-options .option');
            
            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && selectedIndex !== question.correct) {
                    option.classList.add('incorrect');
                }
            });

            const feedback = document.getElementById('quiz-feedback');
            if (selectedIndex === question.correct) {
                quizScore++;
                feedback.textContent = '‚úÖ Excellent! That\'s correct!';
                feedback.className = 'feedback success';
            } else {
                feedback.textContent = `‚ùå Not quite right. The correct answer is: ${question.options[question.correct]}`;
                feedback.className = 'feedback error';
            }
            
            feedback.style.display = 'block';
            quizAnswered = true;
            updateQuizScore();
        }

        function nextQuestion() {
            currentQuizIndex++;
            loadQuestion();
        }

        function updateQuizScore() {
            document.getElementById('quiz-score').textContent = `Score: ${quizScore}/${Math.min(currentQuizIndex + 1, quizQuestions.length)}`;
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            loadQuestion();
            generateCrops();
        });
    </script>
</body>
</html>